import{B as Ls,C as Vn,r as P,w as me,D as gt,E as x,G as zn,o as Ns,H as jn,I as _t,J as Fs,K as Ln,s as Us,L as Nn,M as Ws,N as Fn,O as Un,l as ve,d as b,b as g,e as z,f as T,h as oe,u as o,j as R,P as ie,p as y,q as l,m as F,Q as Wn,t as c,Y as Hn,R as Qn,F as ye,x as Ce,k as C,S as M,T as J,U as Q,V as qn,W as cs,n as ce,g as de,X as Kn,Z as Gn,$ as Jn,a0 as Qt,a1 as Hs,a2 as Re,a3 as Qs,a4 as Mt,a5 as Xn,a6 as Yn,a7 as Zn,a8 as ea,a9 as _e,aa as ta,ab as sa,ac as na,ad as aa,ae as oa,af as ra,ag as la,ah as ia,ai as ua,i as De,aj as qt,ak as qs,al as Ks,am as Ie,an as Gs,ao as ca,ap as da,aq as fa,ar as pa,as as ma,at as ha,au as ga,av as _a,aw as Js,ax as ya,ay as va,az as ba,aA as wa,aB as xa,aC as ka,aD as Xs,aE as Ys,aF as Ca,aG as Aa,aH as Ma,aI as Ue,y as Kt,aJ as et,aK as Sa,aL as $a,aM as Ta,aN as Pa,aO as Ba,aP as Ea,aQ as Ia,aR as yt,_ as fe,aS as Oa,aT as Ra,aU as Da,aV as Va,z as Zs,aW as ds,aX as za,aY as ja,aZ as La,a_ as Na,a$ as Fa,b0 as Ua,b1 as Wa,b2 as Ha,b3 as rt,b4 as Qa,b5 as qa,b6 as Ka,b7 as Ga,b8 as Ja,b9 as Xa,ba as Ya,bb as Za,bc as eo,bd as to,be as so,bf as no,bg as ao,bh as oo,bi as ro,bj as lo,bk as io,bl as uo,bm as co,bn as fo,bo as po,bp as mo,bq as ho,br as go,bs as _o,bt as yo,bu as vo,bv as bo,bw as wo,bx as xo,by as ko,bz as Co,bA as Ao,bB as Mo,bC as fs,A as So}from"./CardContent.vue_vue_type_script_setup_true_lang-CP_Lo3_6.js";function en(e){var t;const s=_t(e);return(t=s==null?void 0:s.$el)!=null?t:s}const tt=zn?window:void 0;function ps(...e){let t,s,n,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,n,a]=e,t=tt):[t,s,n,a]=e,!t)return Fn;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const r=[],i=()=>{r.forEach(_=>_()),r.length=0},u=(_,f,m,d)=>(_.addEventListener(f,m,d),()=>_.removeEventListener(f,m,d)),p=me(()=>[en(t),_t(a)],([_,f])=>{if(i(),!_)return;const m=Un(f)?{...f}:f;r.push(...s.flatMap(d=>n.map(w=>u(_,d,w,m))))},{immediate:!0,flush:"post"}),h=()=>{p(),i()};return Fs(h),h}function $o(){const e=P(!1),t=Ls();return t&&Ns(()=>{e.value=!0},t),e}function To(e){const t=$o();return x(()=>(t.value,!!e()))}function Po(e,t={}){const{window:s=tt}=t,n=To(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let a;const r=P(!1),i=h=>{r.value=h.matches},u=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",i):a.removeListener(i))},p=jn(()=>{n.value&&(u(),a=s.matchMedia(_t(e)),"addEventListener"in a?a.addEventListener("change",i):a.addListener(i),r.value=a.matches)});return Fs(()=>{p(),u(),a=void 0}),r}function Bo(e){return JSON.parse(JSON.stringify(e))}const lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it="__vueuse_ssr_handlers__",Eo=Io();function Io(){return it in lt||(lt[it]=lt[it]||{}),lt[it]}function tn(e,t){return Eo[e]||t}function Oo(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ro={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},ms="vueuse-storage";function Do(e,t,s,n={}){var a;const{flush:r="pre",deep:i=!0,listenToStorageChanges:u=!0,writeDefaults:p=!0,mergeDefaults:h=!1,shallow:_,window:f=tt,eventFilter:m,onError:d=k=>{console.error(k)},initOnMounted:w}=n,$=(_?Us:P)(typeof t=="function"?t():t);if(!s)try{s=tn("getDefaultStorage",()=>{var k;return(k=tt)==null?void 0:k.localStorage})()}catch(k){d(k)}if(!s)return $;const L=_t(t),j=Oo(L),I=(a=n.serializer)!=null?a:Ro[j],{pause:B,resume:N}=Nn($,()=>Y($.value),{flush:r,deep:i,eventFilter:m});f&&u&&Ws(()=>{ps(f,"storage",V),ps(f,ms,E),w&&V()}),w||V();function D(k,U){f&&f.dispatchEvent(new CustomEvent(ms,{detail:{key:e,oldValue:k,newValue:U,storageArea:s}}))}function Y(k){try{const U=s.getItem(e);if(k==null)D(U,null),s.removeItem(e);else{const G=I.write(k);U!==G&&(s.setItem(e,G),D(U,G))}}catch(U){d(U)}}function K(k){const U=k?k.newValue:s.getItem(e);if(U==null)return p&&L!=null&&s.setItem(e,I.write(L)),L;if(!k&&h){const G=I.read(U);return typeof h=="function"?h(G,L):j==="object"&&!Array.isArray(G)?{...L,...G}:G}else return typeof U!="string"?U:I.read(U)}function V(k){if(!(k&&k.storageArea!==s)){if(k&&k.key==null){$.value=L;return}if(!(k&&k.key!==e)){B();try{(k==null?void 0:k.newValue)!==I.write($.value)&&($.value=K(k))}catch(U){d(U)}finally{k?gt(N):N()}}}}function E(k){V(k.detail)}return $}function Vo(e){return Po("(prefers-color-scheme: dark)",e)}function sn(e={}){const{selector:t="html",attribute:s="class",initialValue:n="auto",window:a=tt,storage:r,storageKey:i="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:p,emitAuto:h,disableTransition:_=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},m=Vo({window:a}),d=x(()=>m.value?"dark":"light"),w=p||(i==null?Ln(n):Do(i,n,r,{window:a,listenToStorageChanges:u})),$=x(()=>w.value==="auto"?d.value:w.value),L=tn("updateHTMLAttrs",(N,D,Y)=>{const K=typeof N=="string"?a==null?void 0:a.document.querySelector(N):en(N);if(!K)return;let V;if(_&&(V=a.document.createElement("style"),V.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),a.document.head.appendChild(V)),D==="class"){const E=Y.split(/\s/g);Object.values(f).flatMap(k=>(k||"").split(/\s/g)).filter(Boolean).forEach(k=>{E.includes(k)?K.classList.add(k):K.classList.remove(k)})}else K.setAttribute(D,Y);_&&(a.getComputedStyle(V).opacity,document.head.removeChild(V))});function j(N){var D;L(t,s,(D=f[N])!=null?D:N)}function I(N){e.onChanged?e.onChanged(N,j):j(N)}me($,I,{flush:"post",immediate:!0}),Ws(()=>I($.value));const B=x({get(){return h?w.value:$.value},set(N){w.value=N}});try{return Object.assign(B,{store:w,system:d,state:$})}catch{return B}}function nn(e,t,s,n={}){var a,r,i;const{clone:u=!1,passive:p=!1,eventName:h,deep:_=!1,defaultValue:f,shouldEmit:m}=n,d=Ls(),w=s||(d==null?void 0:d.emit)||((a=d==null?void 0:d.$emit)==null?void 0:a.bind(d))||((i=(r=d==null?void 0:d.proxy)==null?void 0:r.$emit)==null?void 0:i.bind(d==null?void 0:d.proxy));let $=h;$=$||`update:${t.toString()}`;const L=B=>u?typeof u=="function"?u(B):Bo(B):B,j=()=>Vn(e[t])?L(e[t]):f,I=B=>{m?m(B)&&w($,B):w($,B)};if(p){const B=j(),N=P(B);let D=!1;return me(()=>e[t],Y=>{D||(D=!0,N.value=L(Y),gt(()=>D=!1))}),me(N,Y=>{!D&&(Y!==e[t]||_)&&I(Y)},{deep:_}),N}else return x({get(){return j()},set(B){I(B)}})}/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ve("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ve("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ve("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ve("CircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ve("GripVerticalIcon",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ve("MicOffIcon",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ve("MicIcon",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ve("MoonIcon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ve("RefreshCcwDotIcon",[["path",{d:"M3 2v6h6",key:"18ldww"}],["path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8",key:"1pbrqz"}],["path",{d:"M21 22v-6h-6",key:"usdfbe"}],["path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7",key:"1hosoe"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ve("SunIcon",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ve("Volume2Icon",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ve("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zt=b({__name:"CardHeader",props:{class:{}},setup(e){const t=e;return(s,n)=>(g(),z("div",{class:oe(o(R)("flex flex-col gap-y-1.5 p-6",t.class))},[T(s.$slots,"default")],2))}}),qo=b({__name:"CardFooter",props:{class:{}},setup(e){const t=e;return(s,n)=>(g(),z("div",{class:oe(o(R)("flex items-center p-6 pt-0",t.class))},[T(s.$slots,"default")],2))}}),Ko=b({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(Wn),F(o(r),{class:o(R)(o(or)({variant:i.variant}),s.class),"onUpdate:open":i.onOpenChange}),{default:l(()=>[T(i.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}}),Go=b({__name:"ToastClose",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Hn),F(s.value,{class:o(R)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t.class)}),{default:l(()=>[c(o(an),{class:"h-4 w-4"})]),_:1},16,["class"]))}}),gs=b({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Qn),F({class:o(R)("text-sm opacity-90",t.class)},s.value),{default:l(()=>[T(n.$slots,"default")]),_:3},16,["class"]))}}),Jo=1,Xo=1e6,Me={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let St=0;function Yo(){return St=(St+1)%Number.MAX_VALUE,St.toString()}const $t=new Map;function _s(e){if($t.has(e))return;const t=setTimeout(()=>{$t.delete(e),Xe({type:Me.REMOVE_TOAST,toastId:e})},Xo);$t.set(e,t)}const be=P({toasts:[]});function Xe(e){switch(e.type){case Me.ADD_TOAST:be.value.toasts=[e.toast,...be.value.toasts].slice(0,Jo);break;case Me.UPDATE_TOAST:be.value.toasts=be.value.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t);break;case Me.DISMISS_TOAST:{const{toastId:t}=e;t?_s(t):be.value.toasts.forEach(s=>{_s(s.id)}),be.value.toasts=be.value.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s);break}case Me.REMOVE_TOAST:e.toastId===void 0?be.value.toasts=[]:be.value.toasts=be.value.toasts.filter(t=>t.id!==e.toastId);break}}function vt(){return{toasts:x(()=>be.value.toasts),toast:Zo,dismiss:e=>Xe({type:Me.DISMISS_TOAST,toastId:e})}}function Zo(e){const t=Yo(),s=a=>Xe({type:Me.UPDATE_TOAST,toast:{...a,id:t}}),n=()=>Xe({type:Me.DISMISS_TOAST,toastId:t});return Xe({type:Me.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:s}}const er={class:"grid gap-1"},tr=b({__name:"Toaster",setup(e){const{toasts:t}=vt();return(s,n)=>(g(),y(o(sr),null,{default:l(()=>[(g(!0),z(ye,null,Ce(o(t),a=>(g(),y(o(Ko),F({key:a.id,ref_for:!0},a),{default:l(()=>[C("div",er,[a.title?(g(),y(o(nr),{key:0},{default:l(()=>[M(J(a.title),1)]),_:2},1024)):Q("",!0),a.description?(g(),z(ye,{key:1},[qn(a.description)?(g(),y(o(gs),{key:0},{default:l(()=>[(g(),y(cs(a.description)))]),_:2},1024)):(g(),y(o(gs),{key:1},{default:l(()=>[M(J(a.description),1)]),_:2},1024))],64)):Q("",!0),c(o(Go))]),(g(),y(cs(a.action)))]),_:2},1040))),128)),c(o(ar))]),_:1}))}}),sr=b({__name:"ToastProvider",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(Kn),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),nr=b({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Gn),F(s.value,{class:o(R)("text-sm font-semibold",t.class)}),{default:l(()=>[T(n.$slots,"default")]),_:3},16,["class"]))}}),ar=b({__name:"ToastViewport",props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Jn),F(s.value,{class:o(R)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t.class)}),null,16,["class"]))}}),or=Qt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[--radix-toast-swipe-end-x] data-[swipe=move]:translate-x-[--radix-toast-swipe-move-x] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fe=typeof document<"u";function on(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function rr(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&on(e.default)}const se=Object.assign;function Tt(e,t){const s={};for(const n in t){const a=t[n];s[n]=we(a)?a.map(e):e(a)}return s}const Ye=()=>{},we=Array.isArray,rn=/#/g,lr=/&/g,ir=/\//g,ur=/=/g,cr=/\?/g,ln=/\+/g,dr=/%5B/g,fr=/%5D/g,un=/%5E/g,pr=/%60/g,cn=/%7B/g,mr=/%7C/g,dn=/%7D/g,hr=/%20/g;function Jt(e){return encodeURI(""+e).replace(mr,"|").replace(dr,"[").replace(fr,"]")}function gr(e){return Jt(e).replace(cn,"{").replace(dn,"}").replace(un,"^")}function jt(e){return Jt(e).replace(ln,"%2B").replace(hr,"+").replace(rn,"%23").replace(lr,"%26").replace(pr,"`").replace(cn,"{").replace(dn,"}").replace(un,"^")}function _r(e){return jt(e).replace(ur,"%3D")}function yr(e){return Jt(e).replace(rn,"%23").replace(cr,"%3F")}function vr(e){return e==null?"":yr(e).replace(ir,"%2F")}function st(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const br=/\/$/,wr=e=>e.replace(br,"");function Pt(e,t,s="/"){let n,a={},r="",i="";const u=t.indexOf("#");let p=t.indexOf("?");return u<p&&u>=0&&(p=-1),p>-1&&(n=t.slice(0,p),r=t.slice(p+1,u>-1?u:t.length),a=e(r)),u>-1&&(n=n||t.slice(0,u),i=t.slice(u,t.length)),n=Ar(n??t,s),{fullPath:n+(r&&"?")+r+i,path:n,query:a,hash:st(i)}}function xr(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function kr(e,t,s){const n=t.matched.length-1,a=s.matched.length-1;return n>-1&&n===a&&We(t.matched[n],s.matched[a])&&fn(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function We(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function fn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Cr(e[s],t[s]))return!1;return!0}function Cr(e,t){return we(e)?ys(e,t):we(t)?ys(t,e):e===t}function ys(e,t){return we(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Ar(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let r=s.length-1,i,u;for(i=0;i<n.length;i++)if(u=n[i],u!==".")if(u==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(i).join("/")}const Se={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var nt;(function(e){e.pop="pop",e.push="push"})(nt||(nt={}));var ft;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ft||(ft={}));const Bt="";function Mr(e){if(!e)if(Fe){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),wr(e)}const Sr=/^[^#]+#/;function $r(e,t){return e.replace(Sr,"#")+t}function Tr(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Pr=()=>({left:window.scrollX,top:window.scrollY});function Br(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),a=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!a)return;t=Tr(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function vs(e,t){return(history.state?history.state.position-t:-1)+e}const Lt=new Map;function Er(e,t){Lt.set(e,t)}function Ir(e){const t=Lt.get(e);return Lt.delete(e),t}function Or(e=""){let t=[],s=[Bt],n=0;e=Mr(e);function a(u){n++,n!==s.length&&s.splice(n),s.push(u)}function r(u,p,{direction:h,delta:_}){const f={direction:h,delta:_,type:nt.pop};for(const m of t)m(u,p,f)}const i={location:Bt,state:{},base:e,createHref:$r.bind(null,e),replace(u){s.splice(n--,1),a(u)},push(u,p){a(u)},listen(u){return t.push(u),()=>{const p=t.indexOf(u);p>-1&&t.splice(p,1)}},destroy(){t=[],s=[Bt],n=0},go(u,p=!0){const h=this.location,_=u<0?ft.back:ft.forward;n=Math.max(0,Math.min(n+u,s.length-1)),p&&r(this.location,h,{direction:_,delta:u})}};return Object.defineProperty(i,"location",{enumerable:!0,get:()=>s[n]}),i}function Rr(e){return typeof e=="string"||e&&typeof e=="object"}function pn(e){return typeof e=="string"||typeof e=="symbol"}const mn=Symbol("");var bs;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(bs||(bs={}));function He(e,t){return se(new Error,{type:e,[mn]:!0},t)}function Ae(e,t){return e instanceof Error&&mn in e&&(t==null||!!(e.type&t))}const ws="[^/]+?",Dr={sensitive:!1,strict:!1,start:!0,end:!0},Vr=/[.+*?^${}()[\]/\\]/g;function zr(e,t){const s=se({},Dr,t),n=[];let a=s.start?"^":"";const r=[];for(const h of e){const _=h.length?[]:[90];s.strict&&!h.length&&(a+="/");for(let f=0;f<h.length;f++){const m=h[f];let d=40+(s.sensitive?.25:0);if(m.type===0)f||(a+="/"),a+=m.value.replace(Vr,"\\$&"),d+=40;else if(m.type===1){const{value:w,repeatable:$,optional:L,regexp:j}=m;r.push({name:w,repeatable:$,optional:L});const I=j||ws;if(I!==ws){d+=10;try{new RegExp(`(${I})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${w}" (${I}): `+N.message)}}let B=$?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;f||(B=L&&h.length<2?`(?:/${B})`:"/"+B),L&&(B+="?"),a+=B,d+=20,L&&(d+=-8),$&&(d+=-20),I===".*"&&(d+=-50)}_.push(d)}n.push(_)}if(s.strict&&s.end){const h=n.length-1;n[h][n[h].length-1]+=.7000000000000001}s.strict||(a+="/?"),s.end?a+="$":s.strict&&(a+="(?:/|$)");const i=new RegExp(a,s.sensitive?"":"i");function u(h){const _=h.match(i),f={};if(!_)return null;for(let m=1;m<_.length;m++){const d=_[m]||"",w=r[m-1];f[w.name]=d&&w.repeatable?d.split("/"):d}return f}function p(h){let _="",f=!1;for(const m of e){(!f||!_.endsWith("/"))&&(_+="/"),f=!1;for(const d of m)if(d.type===0)_+=d.value;else if(d.type===1){const{value:w,repeatable:$,optional:L}=d,j=w in h?h[w]:"";if(we(j)&&!$)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const I=we(j)?j.join("/"):j;if(!I)if(L)m.length<2&&(_.endsWith("/")?_=_.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);_+=I}}return _||"/"}return{re:i,score:n,keys:r,parse:u,stringify:p}}function jr(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function hn(e,t){let s=0;const n=e.score,a=t.score;for(;s<n.length&&s<a.length;){const r=jr(n[s],a[s]);if(r)return r;s++}if(Math.abs(a.length-n.length)===1){if(xs(n))return 1;if(xs(a))return-1}return a.length-n.length}function xs(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Lr={type:0,value:""},Nr=/[a-zA-Z0-9_]/;function Fr(e){if(!e)return[[]];if(e==="/")return[[Lr]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${s})/"${h}": ${d}`)}let s=0,n=s;const a=[];let r;function i(){r&&a.push(r),r=[]}let u=0,p,h="",_="";function f(){h&&(s===0?r.push({type:0,value:h}):s===1||s===2||s===3?(r.length>1&&(p==="*"||p==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:_,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=p}for(;u<e.length;){if(p=e[u++],p==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:p==="/"?(h&&f(),i()):p===":"?(f(),s=1):m();break;case 4:m(),s=n;break;case 1:p==="("?s=2:Nr.test(p)?m():(f(),s=0,p!=="*"&&p!=="?"&&p!=="+"&&u--);break;case 2:p===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+p:s=3:_+=p;break;case 3:f(),s=0,p!=="*"&&p!=="?"&&p!=="+"&&u--,_="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${h}"`),f(),i(),a}function Ur(e,t,s){const n=zr(Fr(e.path),s),a=se(n,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Wr(e,t){const s=[],n=new Map;t=Ms({strict:!1,end:!0,sensitive:!1},t);function a(f){return n.get(f)}function r(f,m,d){const w=!d,$=Cs(f);$.aliasOf=d&&d.record;const L=Ms(t,f),j=[$];if("alias"in f){const N=typeof f.alias=="string"?[f.alias]:f.alias;for(const D of N)j.push(Cs(se({},$,{components:d?d.record.components:$.components,path:D,aliasOf:d?d.record:$})))}let I,B;for(const N of j){const{path:D}=N;if(m&&D[0]!=="/"){const Y=m.record.path,K=Y[Y.length-1]==="/"?"":"/";N.path=m.record.path+(D&&K+D)}if(I=Ur(N,m,L),d?d.alias.push(I):(B=B||I,B!==I&&B.alias.push(I),w&&f.name&&!As(I)&&i(f.name)),gn(I)&&p(I),$.children){const Y=$.children;for(let K=0;K<Y.length;K++)r(Y[K],I,d&&d.children[K])}d=d||I}return B?()=>{i(B)}:Ye}function i(f){if(pn(f)){const m=n.get(f);m&&(n.delete(f),s.splice(s.indexOf(m),1),m.children.forEach(i),m.alias.forEach(i))}else{const m=s.indexOf(f);m>-1&&(s.splice(m,1),f.record.name&&n.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function u(){return s}function p(f){const m=qr(f,s);s.splice(m,0,f),f.record.name&&!As(f)&&n.set(f.record.name,f)}function h(f,m){let d,w={},$,L;if("name"in f&&f.name){if(d=n.get(f.name),!d)throw He(1,{location:f});L=d.record.name,w=se(ks(m.params,d.keys.filter(B=>!B.optional).concat(d.parent?d.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),f.params&&ks(f.params,d.keys.map(B=>B.name))),$=d.stringify(w)}else if(f.path!=null)$=f.path,d=s.find(B=>B.re.test($)),d&&(w=d.parse($),L=d.record.name);else{if(d=m.name?n.get(m.name):s.find(B=>B.re.test(m.path)),!d)throw He(1,{location:f,currentLocation:m});L=d.record.name,w=se({},m.params,f.params),$=d.stringify(w)}const j=[];let I=d;for(;I;)j.unshift(I.record),I=I.parent;return{name:L,path:$,params:w,matched:j,meta:Qr(j)}}e.forEach(f=>r(f));function _(){s.length=0,n.clear()}return{addRoute:r,resolve:h,removeRoute:i,clearRoutes:_,getRoutes:u,getRecordMatcher:a}}function ks(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Cs(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Hr(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Hr(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function As(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Qr(e){return e.reduce((t,s)=>se(t,s.meta),{})}function Ms(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function qr(e,t){let s=0,n=t.length;for(;s!==n;){const r=s+n>>1;hn(e,t[r])<0?n=r:s=r+1}const a=Kr(e);return a&&(n=t.lastIndexOf(a,n-1)),n}function Kr(e){let t=e;for(;t=t.parent;)if(gn(t)&&hn(e,t)===0)return t}function gn({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Gr(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const r=n[a].replace(ln," "),i=r.indexOf("="),u=st(i<0?r:r.slice(0,i)),p=i<0?null:st(r.slice(i+1));if(u in t){let h=t[u];we(h)||(h=t[u]=[h]),h.push(p)}else t[u]=p}return t}function Ss(e){let t="";for(let s in e){const n=e[s];if(s=_r(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(we(n)?n.map(r=>r&&jt(r)):[n&&jt(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function Jr(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=we(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return t}const Xr=Symbol(""),$s=Symbol(""),Xt=Symbol(""),Yt=Symbol(""),Nt=Symbol("");function Ke(){let e=[];function t(n){return e.push(n),()=>{const a=e.indexOf(n);a>-1&&e.splice(a,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Te(e,t,s,n,a,r=i=>i()){const i=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((u,p)=>{const h=m=>{m===!1?p(He(4,{from:s,to:t})):m instanceof Error?p(m):Rr(m)?p(He(2,{from:t,to:m})):(i&&n.enterCallbacks[a]===i&&typeof m=="function"&&i.push(m),u())},_=r(()=>e.call(n&&n.instances[a],t,s,h));let f=Promise.resolve(_);e.length<3&&(f=f.then(h)),f.catch(m=>p(m))})}function Et(e,t,s,n,a=r=>r()){const r=[];for(const i of e)for(const u in i.components){let p=i.components[u];if(!(t!=="beforeRouteEnter"&&!i.instances[u]))if(on(p)){const _=(p.__vccOpts||p)[t];_&&r.push(Te(_,s,n,i,u,a))}else{let h=p();r.push(()=>h.then(_=>{if(!_)throw new Error(`Couldn't resolve component "${u}" at "${i.path}"`);const f=rr(_)?_.default:_;i.mods[u]=_,i.components[u]=f;const d=(f.__vccOpts||f)[t];return d&&Te(d,s,n,i,u,a)()}))}}return r}function Ts(e){const t=Re(Xt),s=Re(Yt),n=x(()=>{const p=o(e.to);return t.resolve(p)}),a=x(()=>{const{matched:p}=n.value,{length:h}=p,_=p[h-1],f=s.matched;if(!_||!f.length)return-1;const m=f.findIndex(We.bind(null,_));if(m>-1)return m;const d=Ps(p[h-2]);return h>1&&Ps(_)===d&&f[f.length-1].path!==d?f.findIndex(We.bind(null,p[h-2])):m}),r=x(()=>a.value>-1&&tl(s.params,n.value.params)),i=x(()=>a.value>-1&&a.value===s.matched.length-1&&fn(s.params,n.value.params));function u(p={}){return el(p)?t[o(e.replace)?"replace":"push"](o(e.to)).catch(Ye):Promise.resolve()}return{route:n,href:x(()=>n.value.href),isActive:r,isExactActive:i,navigate:u}}const Yr=b({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ts,setup(e,{slots:t}){const s=Hs(Ts(e)),{options:n}=Re(Xt),a=x(()=>({[Bs(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Bs(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&t.default(s);return e.custom?r:Qs("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:a.value},r)}}}),Zr=Yr;function el(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tl(e,t){for(const s in t){const n=t[s],a=e[s];if(typeof n=="string"){if(n!==a)return!1}else if(!we(a)||a.length!==n.length||n.some((r,i)=>r!==a[i]))return!1}return!0}function Ps(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Bs=(e,t,s)=>e??t??s,sl=b({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Re(Nt),a=x(()=>e.route||n.value),r=Re($s,0),i=x(()=>{let h=o(r);const{matched:_}=a.value;let f;for(;(f=_[h])&&!f.components;)h++;return h}),u=x(()=>a.value.matched[i.value]);Mt($s,x(()=>i.value+1)),Mt(Xr,u),Mt(Nt,a);const p=P();return me(()=>[p.value,u.value,e.name],([h,_,f],[m,d,w])=>{_&&(_.instances[f]=h,d&&d!==_&&h&&h===m&&(_.leaveGuards.size||(_.leaveGuards=d.leaveGuards),_.updateGuards.size||(_.updateGuards=d.updateGuards))),h&&_&&(!d||!We(_,d)||!m)&&(_.enterCallbacks[f]||[]).forEach($=>$(h))},{flush:"post"}),()=>{const h=a.value,_=e.name,f=u.value,m=f&&f.components[_];if(!m)return Es(s.default,{Component:m,route:h});const d=f.props[_],w=d?d===!0?h.params:typeof d=="function"?d(h):d:null,L=Qs(m,se({},w,t,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(f.instances[_]=null)},ref:p}));return Es(s.default,{Component:L,route:h})||L}}});function Es(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const nl=sl;function al(e){const t=Wr(e.routes,e),s=e.parseQuery||Gr,n=e.stringifyQuery||Ss,a=e.history,r=Ke(),i=Ke(),u=Ke(),p=Us(Se);let h=Se;Fe&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Tt.bind(null,v=>""+v),f=Tt.bind(null,vr),m=Tt.bind(null,st);function d(v,S){let A,O;return pn(v)?(A=t.getRecordMatcher(v),O=S):O=v,t.addRoute(O,A)}function w(v){const S=t.getRecordMatcher(v);S&&t.removeRoute(S)}function $(){return t.getRoutes().map(v=>v.record)}function L(v){return!!t.getRecordMatcher(v)}function j(v,S){if(S=se({},S||p.value),typeof v=="string"){const W=Pt(s,v,S.path),ue=t.resolve({path:W.path},S),qe=a.createHref(W.fullPath);return se(W,ue,{params:m(ue.params),hash:st(W.hash),redirectedFrom:void 0,href:qe})}let A;if(v.path!=null)A=se({},v,{path:Pt(s,v.path,S.path).path});else{const W=se({},v.params);for(const ue in W)W[ue]==null&&delete W[ue];A=se({},v,{params:f(W)}),S.params=f(S.params)}const O=t.resolve(A,S),Z=v.hash||"";O.params=_(m(O.params));const re=xr(n,se({},v,{hash:gr(Z),path:O.path})),q=a.createHref(re);return se({fullPath:re,hash:Z,query:n===Ss?Jr(v.query):v.query||{}},O,{redirectedFrom:void 0,href:q})}function I(v){return typeof v=="string"?Pt(s,v,p.value.path):se({},v)}function B(v,S){if(h!==v)return He(8,{from:S,to:v})}function N(v){return K(v)}function D(v){return N(se(I(v),{replace:!0}))}function Y(v){const S=v.matched[v.matched.length-1];if(S&&S.redirect){const{redirect:A}=S;let O=typeof A=="function"?A(v):A;return typeof O=="string"&&(O=O.includes("?")||O.includes("#")?O=I(O):{path:O},O.params={}),se({query:v.query,hash:v.hash,params:O.path!=null?{}:v.params},O)}}function K(v,S){const A=h=j(v),O=p.value,Z=v.state,re=v.force,q=v.replace===!0,W=Y(A);if(W)return K(se(I(W),{state:typeof W=="object"?se({},Z,W.state):Z,force:re,replace:q}),S||A);const ue=A;ue.redirectedFrom=S;let qe;return!re&&kr(n,O,A)&&(qe=He(16,{to:ue,from:O}),ot(O,O,!0,!1)),(qe?Promise.resolve(qe):k(ue,O)).catch(pe=>Ae(pe)?Ae(pe,2)?pe:xe(pe):Oe(pe,ue,O)).then(pe=>{if(pe){if(Ae(pe,2))return K(se({replace:q},I(pe.to),{state:typeof pe.to=="object"?se({},Z,pe.to.state):Z,force:re}),S||ue)}else pe=G(ue,O,!0,q,Z);return U(ue,O,pe),pe})}function V(v,S){const A=B(v,S);return A?Promise.reject(A):Promise.resolve()}function E(v){const S=ee.values().next().value;return S&&typeof S.runWithContext=="function"?S.runWithContext(v):v()}function k(v,S){let A;const[O,Z,re]=ol(v,S);A=Et(O.reverse(),"beforeRouteLeave",v,S);for(const W of O)W.leaveGuards.forEach(ue=>{A.push(Te(ue,v,S))});const q=V.bind(null,v,S);return A.push(q),Le(A).then(()=>{A=[];for(const W of r.list())A.push(Te(W,v,S));return A.push(q),Le(A)}).then(()=>{A=Et(Z,"beforeRouteUpdate",v,S);for(const W of Z)W.updateGuards.forEach(ue=>{A.push(Te(ue,v,S))});return A.push(q),Le(A)}).then(()=>{A=[];for(const W of re)if(W.beforeEnter)if(we(W.beforeEnter))for(const ue of W.beforeEnter)A.push(Te(ue,v,S));else A.push(Te(W.beforeEnter,v,S));return A.push(q),Le(A)}).then(()=>(v.matched.forEach(W=>W.enterCallbacks={}),A=Et(re,"beforeRouteEnter",v,S,E),A.push(q),Le(A))).then(()=>{A=[];for(const W of i.list())A.push(Te(W,v,S));return A.push(q),Le(A)}).catch(W=>Ae(W,8)?W:Promise.reject(W))}function U(v,S,A){u.list().forEach(O=>E(()=>O(v,S,A)))}function G(v,S,A,O,Z){const re=B(v,S);if(re)return re;const q=S===Se,W=Fe?history.state:{};A&&(O||q?a.replace(v.fullPath,se({scroll:q&&W&&W.scroll},Z)):a.push(v.fullPath,Z)),p.value=v,ot(v,S,A,q),xe()}let te;function Ve(){te||(te=a.listen((v,S,A)=>{if(!he.listening)return;const O=j(v),Z=Y(O);if(Z){K(se(Z,{replace:!0}),O).catch(Ye);return}h=O;const re=p.value;Fe&&Er(vs(re.fullPath,A.delta),Pr()),k(O,re).catch(q=>Ae(q,12)?q:Ae(q,2)?(K(q.to,O).then(W=>{Ae(W,20)&&!A.delta&&A.type===nt.pop&&a.go(-1,!1)}).catch(Ye),Promise.reject()):(A.delta&&a.go(-A.delta,!1),Oe(q,O,re))).then(q=>{q=q||G(O,re,!1),q&&(A.delta&&!Ae(q,8)?a.go(-A.delta,!1):A.type===nt.pop&&Ae(q,20)&&a.go(-1,!1)),U(O,re,q)}).catch(Ye)}))}let X=Ke(),ae=Ke(),ne;function Oe(v,S,A){xe(v);const O=ae.list();return O.length?O.forEach(Z=>Z(v,S,A)):console.error(v),Promise.reject(v)}function ze(){return ne&&p.value!==Se?Promise.resolve():new Promise((v,S)=>{X.add([v,S])})}function xe(v){return ne||(ne=!v,Ve(),X.list().forEach(([S,A])=>v?A(v):S()),X.reset()),v}function ot(v,S,A,O){const{scrollBehavior:Z}=e;if(!Fe||!Z)return Promise.resolve();const re=!A&&Ir(vs(v.fullPath,0))||(O||!A)&&history.state&&history.state.scroll||null;return gt().then(()=>Z(v,S,re)).then(q=>q&&Br(q)).catch(q=>Oe(q,v,S))}const je=v=>a.go(v);let H;const ee=new Set,he={currentRoute:p,listening:!0,addRoute:d,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:L,getRoutes:$,resolve:j,options:e,push:N,replace:D,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:r.add,beforeResolve:i.add,afterEach:u.add,onError:ae.add,isReady:ze,install(v){const S=this;v.component("RouterLink",Zr),v.component("RouterView",nl),v.config.globalProperties.$router=S,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>o(p)}),Fe&&!H&&p.value===Se&&(H=!0,N(a.location).catch(Z=>{}));const A={};for(const Z in Se)Object.defineProperty(A,Z,{get:()=>p.value[Z],enumerable:!0});v.provide(Xt,S),v.provide(Yt,Xn(A)),v.provide(Nt,p);const O=v.unmount;ee.add(v),v.unmount=function(){ee.delete(v),ee.size<1&&(h=Se,te&&te(),te=null,p.value=Se,H=!1,ne=!1),O()}}};function Le(v){return v.reduce((S,A)=>S.then(()=>E(A)),Promise.resolve())}return he}function ol(e,t){const s=[],n=[],a=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const u=t.matched[i];u&&(e.matched.find(h=>We(h,u))?n.push(u):s.push(u));const p=e.matched[i];p&&(t.matched.find(h=>We(h,p))||a.push(p))}return[s,n,a]}function bt(e){return Re(Yt)}const rl=b({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(Yn),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),It=b({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Zn),F({class:o(R)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t.class)},s.value),{default:l(()=>[T(n.$slots,"default")]),_:3},16,["class"]))}}),ll=b({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(ea),F(s.value,{class:o(R)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t.class)}),{default:l(()=>[T(n.$slots,"default")]),_:3},16,["class"]))}}),il={class:"truncate"},Ot=b({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(ta),F(o(n),{class:o(R)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t.class)}),{default:l(()=>[C("span",il,[T(a.$slots,"default")])]),_:3},16,["class"]))}}),ul=b({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(na),F(s.value,{class:o(R)("flex touch-none select-none transition-colors",n.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",n.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t.class)}),{default:l(()=>[c(o(sa),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),Qe=b({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(ra),F(s.value,{class:o(R)("relative overflow-hidden",t.class)}),{default:l(()=>[c(o(aa),{class:"h-full w-full rounded-[inherit]"},{default:l(()=>[T(n.$slots,"default")]),_:3}),c(ul),c(o(oa))]),_:3},16,["class"]))}});var cl=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let _n;const wt=e=>_n=e,yn=Symbol();function Ft(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ze;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ze||(Ze={}));function dl(){const e=qs(!0),t=e.run(()=>P({}));let s=[],n=[];const a=Gs({install(r){wt(a),a._a=r,r.provide(yn,a),r.config.globalProperties.$pinia=a,n.forEach(i=>s.push(i)),n=[]},use(r){return!this._a&&!cl?n.push(r):s.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return a}const vn=()=>{};function Is(e,t,s,n=vn){e.push(t);const a=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&ia()&&ua(a),a}function Ne(e,...t){e.slice().forEach(s=>{s(...t)})}const fl=e=>e(),Os=Symbol(),Rt=Symbol();function Ut(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],a=e[s];Ft(a)&&Ft(n)&&e.hasOwnProperty(s)&&!De(n)&&!qt(n)?e[s]=Ut(a,n):e[s]=n}return e}const pl=Symbol();function ml(e){return!Ft(e)||!e.hasOwnProperty(pl)}const{assign:$e}=Object;function hl(e){return!!(De(e)&&e.effect)}function gl(e,t,s,n){const{state:a,actions:r,getters:i}=t,u=s.state.value[e];let p;function h(){u||(s.state.value[e]=a?a():{});const _=Ie(s.state.value[e]);return $e(_,r,Object.keys(i||{}).reduce((f,m)=>(f[m]=Gs(x(()=>{wt(s);const d=s._s.get(e);return i[m].call(d,d)})),f),{}))}return p=bn(e,h,t,s,n,!0),p}function bn(e,t,s={},n,a,r){let i;const u=$e({actions:{}},s),p={deep:!0};let h,_,f=[],m=[],d;const w=n.state.value[e];!r&&!w&&(n.state.value[e]={}),P({});let $;function L(V){let E;h=_=!1,typeof V=="function"?(V(n.state.value[e]),E={type:Ze.patchFunction,storeId:e,events:d}):(Ut(n.state.value[e],V),E={type:Ze.patchObject,payload:V,storeId:e,events:d});const k=$=Symbol();gt().then(()=>{$===k&&(h=!0)}),_=!0,Ne(f,E,n.state.value[e])}const j=r?function(){const{state:E}=s,k=E?E():{};this.$patch(U=>{$e(U,k)})}:vn;function I(){i.stop(),f=[],m=[],n._s.delete(e)}const B=(V,E="")=>{if(Os in V)return V[Rt]=E,V;const k=function(){wt(n);const U=Array.from(arguments),G=[],te=[];function Ve(ne){G.push(ne)}function X(ne){te.push(ne)}Ne(m,{args:U,name:k[Rt],store:D,after:Ve,onError:X});let ae;try{ae=V.apply(this&&this.$id===e?this:D,U)}catch(ne){throw Ne(te,ne),ne}return ae instanceof Promise?ae.then(ne=>(Ne(G,ne),ne)).catch(ne=>(Ne(te,ne),Promise.reject(ne))):(Ne(G,ae),ae)};return k[Os]=!0,k[Rt]=E,k},N={_p:n,$id:e,$onAction:Is.bind(null,m),$patch:L,$reset:j,$subscribe(V,E={}){const k=Is(f,V,E.detached,()=>U()),U=i.run(()=>me(()=>n.state.value[e],G=>{(E.flush==="sync"?_:h)&&V({storeId:e,type:Ze.direct,events:d},G)},$e({},p,E)));return k},$dispose:I},D=Hs(N);n._s.set(e,D);const K=(n._a&&n._a.runWithContext||fl)(()=>n._e.run(()=>(i=qs()).run(()=>t({action:B}))));for(const V in K){const E=K[V];if(De(E)&&!hl(E)||qt(E))r||(w&&ml(E)&&(De(E)?E.value=w[V]:Ut(E,w[V])),n.state.value[e][V]=E);else if(typeof E=="function"){const k=B(E,V);K[V]=k,u.actions[V]=E}}return $e(D,K),$e(Ks(D),K),Object.defineProperty(D,"$state",{get:()=>n.state.value[e],set:V=>{L(E=>{$e(E,V)})}}),n._p.forEach(V=>{$e(D,i.run(()=>V({store:D,app:n._a,pinia:n,options:u})))}),w&&r&&s.hydrate&&s.hydrate(D.$state,w),h=!0,_=!0,D}/*! #__NO_SIDE_EFFECTS__ */function _l(e,t,s){let n,a;const r=typeof t=="function";n=e,a=r?s:t;function i(u,p){const h=la();return u=u||(h?Re(yn,null):null),u&&wt(u),u=_n,u._s.has(n)||(r?bn(n,t,a,u):gl(n,a,u)),u._s.get(n)}return i.$id=n,i}function wn(e){{const t=Ks(e),s={};for(const n in t){const a=t[n];(De(a)||qt(a))&&(s[n]=ca(e,n))}return s}}const yl=[{id:"1",created:0,updated:0,tts_voice:"fake-alloy",persona_id:"1",version:0,name:"Eric",description:"friendly, talktaive",profile_pic:null,profile_pic_prompt:null,profile_pic_use_prompt:!1,appearance_options:null,selected_appearance_options:null,current_version_id:"1"}],vl=["fake-gpt-3.5-turbo"],bl=["fake-dall-e-3"],wl=["fake-alloy"],xl=[],ut={chat:vl,image:bl,tts:wl,whisper:xl},Zt=[{id:"1",created:0,name:"Chat with Eric",persona_id:"1",current_persona_version_id:"1",mode:"persona",persona_mode_use_current:!0,messages:[{id:"1",created:0,role:"user",content:"hey eric what's up?",image:"",tts:"",thread_id:"1",thread_index:0},{id:"2",created:0,role:"assistant",content:"Hey there! I'm Eric, your personal assistant. How can I help you today?",image:"",tts:"",thread_id:"1",thread_index:1}],selected_buddy:{id:"1",created:0,updated:0,tts_voice:"fake-alloy",persona_id:"1",version:0,name:"Eric",description:"friendly, talkative",profile_pic:null,profile_pic_prompt:null,profile_pic_use_prompt:!1,appearance_options:null,selected_appearance_options:null,current_version_id:"1"},latest_message:{id:"2",created:0,updated:0,role:"assistant",content:"Hey there! I'm Eric, your personal assistant. How can I help you today?",image:"",tts:"",thread_id:"1",thread_index:1}}],kl="Thomas",Cl=1,Al="medium",Ml=0,Sl=99,$l=0,Tl=0,Pl=0,Bl=0,El={user_name:kl,chat_image_enabled:Cl,chat_image_quality:Al,fresh_db:Ml,n_gpu_layers:Sl,auto_send_stt:$l,auto_read_chat:Tl,auto_start_server:Pl,skip_start_dialog:Bl},le=_l("app",()=>{const e=P(""),t=P([]),s=X=>{t.value.length=0,t.value.push(...X)},n=P(ut.chat),a=P(ut.image),r=P(ut.tts),i=P(ut.whisper),u=P(yl),p=P(El),h=P(Zt),_=x(()=>!0),f=async()=>n.value,m=async()=>a.value,d=async()=>r.value,w=async()=>i.value,$=async X=>{if(X==="chat")return{chatModels:await f()};if(X==="image")return{imageModels:await m()};if(X==="tts")return{ttsModels:await d()};if(X==="whisper")return{whisperModels:await w()};const[ae,ne,Oe,ze]=await Promise.all([f(),m(),d(),w()]);return{chatModels:ae,imageModels:ne,ttsModels:Oe,whisperModels:ze}},L=async()=>u.value,j=async()=>p.value,I=async X=>{},B=async()=>h.value,N=P(!1),D=P(!1),Y=async()=>{N.value=!0},K=x(()=>!1),V=P(!1),E=x(()=>!0),k=x({get:()=>p.value.selected_provider_chat,set:X=>{p.value.selected_provider_chat=X,p.value.selected_provider_image=X}}),U=P(!1),G=X=>{U.value=X},te=P(0);return{selectedBuddyId:e,threadMessages:t,setThreadMessages:s,chatModels:n,imageModels:a,ttsModels:r,whisperModels:i,buddies:u,settings:p,threads:h,newHere:K,modelProvider:k,imgGenerating:U,updateImgGenerating:G,imgProgress:te,updateImgProgress:X=>{te.value=X},updateModels:$,updateBuddies:L,updateSettings:j,saveSettings:I,updateThreads:B,setThreads:X=>{h.value.length=0,h.value.push(...X)},setBuddies:X=>{u.value.length=0,u.value.push(...X)},isExternalProvider:_,proceed:V,isModelsSetup:E,chatServerRunning:N,chatServerStarting:D,updateChatServerRunning:Y,toggleAutoStartServer:()=>{p.value.auto_start_server=p.value.auto_start_server?0:1},toggleAutoReadChat:()=>{p.value.auto_read_chat=p.value.auto_read_chat?0:1},toggleAutoReadSTT:()=>{p.value.auto_send_stt=p.value.auto_send_stt?0:1}}}),es=b({__name:"ContextMenu",props:{dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(da),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),ts=b({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(pa),null,{default:l(()=>[c(o(fa),F(o(r),{class:o(R)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:l(()=>[T(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Pe=b({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(ma),F(o(r),{class:o(R)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i.inset&&"pl-8",s.class)}),{default:l(()=>[T(i.$slots,"default")]),_:3},16,["class"]))}}),Il=b({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(ha),F(s.value,{class:o(R)("-mx-1 my-1 h-px bg-border",t.class)}),null,16,["class"]))}}),ss=b({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const s=_e(e);return(n,a)=>(g(),y(o(ga),ce(de(o(s))),{default:l(()=>[T(n.$slots,"default")]),_:3},16))}}),ns=b({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(_a),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),xn=b({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(Js),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),as=b({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(ba),null,{default:l(()=>[c(o(ya),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),c(o(va),F(o(r),{class:o(R)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s.class)}),{default:l(()=>[T(i.$slots,"default"),c(o(Js),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:l(()=>[c(o(an),{class:"w-4 h-4"}),u[0]||(u[0]=C("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),os=b({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(wa),F(o(n),{class:o(R)("text-sm text-muted-foreground",t.class)}),{default:l(()=>[T(a.$slots,"default")]),_:3},16,["class"]))}}),kn=b({__name:"DialogFooter",props:{class:{}},setup(e){const t=e;return(s,n)=>(g(),z("div",{class:oe(o(R)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[T(s.$slots,"default")],2))}}),Cn=b({__name:"DialogHeader",props:{class:{}},setup(e){const t=e;return(s,n)=>(g(),z("div",{class:oe(o(R)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[T(s.$slots,"default")],2))}}),rs=b({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(xa),F(o(n),{class:o(R)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:l(()=>[T(a.$slots,"default")]),_:3},16,["class"]))}}),ls=b({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(ka),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),An=b({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,a=nn(s,"modelValue",t,{passive:!0,defaultValue:s.defaultValue});return(r,i)=>Xs((g(),z("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>De(a)?a.value=u:null),class:oe(o(R)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s.class))},null,2)),[[Ys,o(a)]])}});async function Ol(e){const t=Zt.find(s=>s.id===e);if(!t)throw new Error(`thread ${e} not found`);return t.messages}async function Rl(e){return le().setThreadMessages([]),{success:!0}}async function Dl(e,t,s,n){}async function Vl(e){const t=le();if(!t.threadMessages.find(a=>a.id===e))throw new Error(`message ${e} not found`);const n=t.threadMessages.filter(a=>a.id!==e);return t.setThreadMessages(n),{success:!0}}async function zl(e,t,s,n){return{status:"success",message:"Message content updated successfully"}}const jl={getAll:Ol,removeAll:Rl,createOne:Dl,removeOne:Vl,updateOne:zl};async function Ll(e){return[]}async function Nl(e){const t=le(),n=Array.from(t.threads.values()).filter(a=>a.persona_id!==e);return t.setThreads(n),{success:!0}}async function Fl({name:e,persona_id:t,mode:s}){return{}}async function Ul(e){return Zt.find(s=>s.id===e)}async function Wl(e){const t=le();await ge.message.removeAll(e);const n=Array.from(t.threads.values()).filter(a=>a.id!==e);return t.setThreads(n),{success:!0}}async function Hl(e,{name:t,persona_id:s,mode:n,persona_mode_use_current:a}){const r=le(),i=r.threads.find(u=>u.id===e);if(!i)throw new Error("Thread not found");if(t){i.name=t;const u=r.threads.map(p=>p.id===e?i:p);r.setThreads(u)}return i}const Ql={getAll:Ll,getOne:Ul,removeAll:Nl,createOne:Fl,removeOne:Wl,updateOne:Hl},ge={message:jl,thread:Ql},ct=43200,Rs=1440,Ds=Symbol.for("constructDateFrom");function is(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Ds in e?e[Ds](t):e instanceof Date?new e.constructor(t):new Date(t)}function Be(e,t){return is(e,e)}let ql={};function Kl(){return ql}function Vs(e){const t=Be(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function us(e,...t){const s=is.bind(null,e||t.find(n=>typeof n=="object"));return t.map(s)}function dt(e,t){const s=+Be(e)-+Be(t);return s<0?-1:s>0?1:s}function Gl(e){return is(e,Date.now())}function Jl(e,t,s){const[n,a]=us(s==null?void 0:s.in,e,t),r=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return r*12+i}function Xl(e){return t=>{const s=Math.trunc,n=s(t);return n===0?0:n}}function Yl(e,t){return+Be(e)-+Be(t)}function Zl(e,t){const s=Be(e);return s.setHours(23,59,59,999),s}function ei(e,t){const s=Be(e),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(23,59,59,999),s}function ti(e,t){const s=Be(e);return+Zl(s)==+ei(s)}function si(e,t,s){const[n,a,r]=us(s==null?void 0:s.in,e,e,t),i=dt(a,r),u=Math.abs(Jl(a,r));if(u<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*u);let p=dt(a,r)===-i;ti(n)&&u===1&&dt(n,r)===1&&(p=!1);const h=i*(u-+p);return h===0?0:h}function ni(e,t,s){const n=Yl(e,t)/1e3;return Xl()(n)}const ai={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oi=(e,t,s)=>{let n;const a=ai[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Dt(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const ri={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},li={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ii={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ui={date:Dt({formats:ri,defaultWidth:"full"}),time:Dt({formats:li,defaultWidth:"full"}),dateTime:Dt({formats:ii,defaultWidth:"full"})},ci={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},di=(e,t,s,n)=>ci[e];function Ge(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,u=s!=null&&s.width?String(s.width):i;a=e.formattingValues[u]||e.formattingValues[i]}else{const i=e.defaultWidth,u=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[u]||e.values[i]}const r=e.argumentCallback?e.argumentCallback(t):t;return a[r]}}const fi={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pi={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hi={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_i={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yi=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},vi={ordinalNumber:yi,era:Ge({values:fi,defaultWidth:"wide"}),quarter:Ge({values:pi,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ge({values:mi,defaultWidth:"wide"}),day:Ge({values:hi,defaultWidth:"wide"}),dayPeriod:Ge({values:gi,defaultWidth:"wide",formattingValues:_i,defaultFormattingWidth:"wide"})};function Je(e){return(t,s={})=>{const n=s.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],r=t.match(a);if(!r)return null;const i=r[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(u)?wi(u,f=>f.test(i)):bi(u,f=>f.test(i));let h;h=e.valueCallback?e.valueCallback(p):p,h=s.valueCallback?s.valueCallback(h):h;const _=t.slice(i.length);return{value:h,rest:_}}}function bi(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function wi(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function xi(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],r=t.match(e.parsePattern);if(!r)return null;let i=e.valueCallback?e.valueCallback(r[0]):r[0];i=s.valueCallback?s.valueCallback(i):i;const u=t.slice(a.length);return{value:i,rest:u}}}const ki=/^(\d+)(th|st|nd|rd)?/i,Ci=/\d+/i,Ai={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mi={any:[/^b/i,/^(a|c)/i]},Si={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$i={any:[/1/i,/2/i,/3/i,/4/i]},Ti={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ei={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ii={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Oi={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ri={ordinalNumber:xi({matchPattern:ki,parsePattern:Ci,valueCallback:e=>parseInt(e,10)}),era:Je({matchPatterns:Ai,defaultMatchWidth:"wide",parsePatterns:Mi,defaultParseWidth:"any"}),quarter:Je({matchPatterns:Si,defaultMatchWidth:"wide",parsePatterns:$i,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Je({matchPatterns:Ti,defaultMatchWidth:"wide",parsePatterns:Pi,defaultParseWidth:"any"}),day:Je({matchPatterns:Bi,defaultMatchWidth:"wide",parsePatterns:Ei,defaultParseWidth:"any"}),dayPeriod:Je({matchPatterns:Ii,defaultMatchWidth:"any",parsePatterns:Oi,defaultParseWidth:"any"})},Di={code:"en-US",formatDistance:oi,formatLong:ui,formatRelative:di,localize:vi,match:Ri,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vi(e,t,s){const n=Kl(),a=(s==null?void 0:s.locale)??n.locale??Di,r=2520,i=dt(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const u=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:i}),[p,h]=us(s==null?void 0:s.in,...i>0?[t,e]:[e,t]),_=ni(h,p),f=(Vs(h)-Vs(p))/1e3,m=Math.round((_-f)/60);let d;if(m<2)return s!=null&&s.includeSeconds?_<5?a.formatDistance("lessThanXSeconds",5,u):_<10?a.formatDistance("lessThanXSeconds",10,u):_<20?a.formatDistance("lessThanXSeconds",20,u):_<40?a.formatDistance("halfAMinute",0,u):_<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):m===0?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",m,u);if(m<45)return a.formatDistance("xMinutes",m,u);if(m<90)return a.formatDistance("aboutXHours",1,u);if(m<Rs){const w=Math.round(m/60);return a.formatDistance("aboutXHours",w,u)}else{if(m<r)return a.formatDistance("xDays",1,u);if(m<ct){const w=Math.round(m/Rs);return a.formatDistance("xDays",w,u)}else if(m<ct*2)return d=Math.round(m/ct),a.formatDistance("aboutXMonths",d,u)}if(d=si(h,p),d<12){const w=Math.round(m/ct);return a.formatDistance("xMonths",w,u)}else{const w=d%12,$=Math.trunc(d/12);return w<3?a.formatDistance("aboutXYears",$,u):w<9?a.formatDistance("overXYears",$,u):a.formatDistance("almostXYears",$+1,u)}}function Wt(e,t){return Vi(e,Gl(e),t)}const pt=b({__name:"Avatar",props:{class:{},size:{default:"sm"},shape:{default:"circle"}},setup(e){const t=e;return(s,n)=>(g(),y(o(Ca),{class:oe(o(R)(o(ji)({size:s.size,shape:s.shape}),t.class))},{default:l(()=>[T(s.$slots,"default")]),_:3},8,["class"]))}}),mt=b({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(Aa),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),zi=b({__name:"AvatarImage",props:{src:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(Ma),F(t,{class:"h-full w-full object-cover"}),null,16))}}),ji=Qt("inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden",{variants:{size:{xs:"h-4 w-4 text-xs",sm:"h-10 w-10 text-xs",base:"h-16 w-16 text-2xl",md:"h-20 w-20 text-3xl",lg:"h-32 w-32 text-5xl"},shape:{circle:"rounded-full",square:"rounded-md"}}}),at=b({__name:"BuddyAvatar",props:{buddy:{},size:{},noDefault:{type:Boolean}},setup(e){const t=e,{buddy:s,size:n="base",noDefault:a=!1}=Ie(t),r=x(()=>s.value.name?s.value.name.split(" ").map(u=>u[0]).join(""):""),i=P("");return Ns(()=>{}),me(()=>s.value.profile_pic,()=>{}),(u,p)=>(g(),y(o(pt),{class:"mr-1 text-md font-bold",size:o(n)},{default:l(()=>[c(o(zi),{src:i.value,draggable:"false"},null,8,["src"]),c(o(mt),null,{default:l(()=>[C("span",null,J(r.value),1)]),_:1})]),_:1},8,["size"]))}}),Li={key:0,class:"flex flex-col items-center px-4"},Ni={class:"flex flex-col items-center gap-2"},Fi={class:"flex flex-col items-center gap-1"},Ui={class:"ml-2"},Wi={class:"flex items-baseline"},Hi={class:"text-xs text-gray-500 italic ml-2"},Qi={key:1,class:"text-center mt-4"},zs=150,qi=b({__name:"index",setup(e){const t=le(),{buddies:s,settings:n,threads:a}=wn(t),r=P(n.value.user_name==="User"?"":n.value.user_name);n.value.user_name&&n.value.user_name!=="User"&&(r.value=n.value.user_name);const i=_=>{var f,m,d;return((f=_.latest_message)==null?void 0:f.content.length)>zs?((m=_.latest_message)==null?void 0:m.content.slice(0,zs))+"...":(d=_.latest_message)==null?void 0:d.content},u=_=>_.latest_message?Wt(new Date(_.latest_message.created),{addSuffix:!0}):"",p=x(()=>r.value?r.value[0].toUpperCase():""),h=x(()=>a.value.sort((_,f)=>!_.latest_message||!f.latest_message?0:new Date(f.latest_message.created).getTime()-new Date(_.latest_message.created).getTime()));return(_,f)=>{const m=Ue("RouterLink");return g(),z(ye,null,[o(a).length?(g(),z("div",Li,[f[2]||(f[2]=C("h1",{class:"text-xl font-bold mb-2"},[C("div",{class:"underline inline dark:bg-gray-600 p-1 rounded cursor-default"},[C("span",{style:{color:"#61dafb"}},"BuddyGen"),C("span",{style:{color:"#111"}},"AI")])],-1)),C("div",Ni,[f[1]||(f[1]=C("h2",{class:"text-lg"},"Your Chats",-1)),C("div",Fi,[c(o(Qe),{class:"h-screen pb-20"},{default:l(()=>[(g(!0),z(ye,null,Ce(h.value,d=>(g(),y(o(Kt),{key:d.id,class:"w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors mb-1"},{default:l(()=>[c(m,{to:`/chat/${d.id}`,class:"w-full h-full flex items-center justify-start p-4"},{default:l(()=>{var w,$;return[C("div",null,[d.selected_buddy?(g(),y(at,{key:0,style:et({visibility:((w=d.latest_message)==null?void 0:w.role)!=="user"?"visible":"hidden"}),buddy:d.selected_buddy,size:"base"},null,8,["style","buddy"])):(g(),y(o(pt),{key:1,size:"base"},{default:l(()=>[c(o(mt),null,{default:l(()=>f[0]||(f[0]=[M("AI")])),_:1})]),_:1})),(($=d.latest_message)==null?void 0:$.role)==="user"?(g(),y(o(pt),{key:2},{default:l(()=>[c(o(mt),null,{default:l(()=>[M(J(p.value),1)]),_:1})]),_:1})):Q("",!0)]),C("div",Ui,[C("p",Wi,[C("span",null,J(d.name),1),C("span",Hi,J(u(d)),1)]),d.latest_message?(g(),z("p",{key:0,class:"text-sm mt-2",style:et({visibility:d.latest_message.role!=="system"?"visible":"hidden"})},J(i(d)),5)):Q("",!0)])]}),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])])])):Q("",!0),!o(a).length&&o(s).length?(g(),z("p",Qi," You have no chats yet. Create one to get started! ")):Q("",!0)],64)}}}),Ki={class:"container flex flex-col items-center pb-8"},Gi={class:"mt-4"},Ji={class:"list-disc list-inside mt-2"},Xi=["href"],Yi=["href"],Zi={key:0},eu=b({__name:"credits",setup(e){const t=[{name:"(Vercel) ai",link:"https://sdk.vercel.ai/docs/introduction",author:"Vercel, Inc.",license:"Apache-2.0"},{name:"axios",link:"https://axios-http.com",author:"Matt Zabriskie & Collaborators",license:"MIT"},{name:"better-sqlite3",link:"https://github.com/WiseLibs/better-sqlite3",author:"Joshua Wise",license:"MIT"},{name:"class-variance-authority",link:"https://github.com/joe-bell/cva#readme",author:"Joe Bell",license:"Apache-2.0"},{name:"clsx",link:"https://github.com/lukeed/clsx#readme",author:"Luke Edwards",license:"MIT"},{name:"concurrently",link:"https://github.com/open-cli-tools/concurrently#readme",author:"Kimmo Brunfeldt",license:"MIT"},{name:"cors",link:"https://github.com/expressjs/cors#readme",author:"Troy Goode",license:"MIT"},{name:"date-fns",link:"https://github.com/date-fns/date-fns#readme",author:"Sasha Koss and Lesha Koss",license:"MIT"},{name:"electron",link:"https://github.com/electron/electron#readme",author:"Electron contributors, GitHub Inc.",license:"MIT"},{name:"electron-builder",link:"https://github.com/electron-userland/electron-builder",author:"Loopline Systems",license:"MIT"},{name:"electron-log",link:"https://github.com/megahertz/electron-log#readme",author:"Alexey Prokhorov",license:"MIT"},{name:"electron-nuxt3",link:"https://github.com/EternalC0der/electron-nuxt3",author:"EternalC0der",license:"Unknown",note:"BuddyGenAI is a fork of electron-nuxt3"},{name:"electron-updater",link:"https://github.com/electron-userland/electron-builder",author:"Loopline Systems",license:"MIT"},{name:"eslint",link:"https://eslint.org",author:"OpenJS Foundation and other contributors",license:"MIT"},{name:"eslint-config-prettier",link:"https://github.com/prettier/eslint-config-prettier#readme",author:"Simon Lydell and contributors",license:"MIT"},{name:"eslint-plugin-prettier",link:"https://github.com/prettier/eslint-plugin-prettier#readme",author:"Andres Suarez and Teddy Katz",license:"MIT"},{name:"express",link:"https://github.com/expressjs/express",author:"TJ Holowaychuk, Roman Shtylman, Douglas Christopher Wilson",license:"MIT"},{name:"fs-extra",link:"https://github.com/jprichardson/node-fs-extra",author:"JP Richardson",license:"MIT"},{name:"llama.cpp",link:"https://github.com/ggerganov/llama.cpp",author:"The ggml authors",license:"MIT",licenseLink:"https://github.com/ggerganov/llama.cpp/blob/master/LICENSE"},{name:"lucide-vue-next",link:"https://lucide.dev",author:"Lucide Contributors, Cole Bemis",license:"ISC, MIT"},{name:"nuxt",link:"https://nuxt.com",author:"Nuxt Team",license:"MIT"},{name:"@nuxtjs/eslint-config-typescript",link:"https://github.com/nuxt/eslint#readme",author:"Nuxt Project",license:"MIT"},{name:"@nuxtjs/color-mode",link:"https://github.com/nuxt-modules/color-mode",author:"Nuxt Team",license:"MIT"},{name:"@nuxtjs/i18n",link:"https://github.com/nuxt-modules/i18n",author:"Nuxt Community, Rafa Chodnicki, Paul Gascou-Vaillancourt, Kazuya Kawaguchi",license:"MIT"},{name:"@nuxtjs/tailwindcss",link:"https://github.com/nuxt-modules/tailwindcss#readme",author:"Nuxt Community",license:"MIT"},{name:"openai-node",link:"https://github.com/openai/openai-node",author:"OpenAI",license:"Apache-2.0"},{name:"@pinia/nuxt",link:"https://github.com/vuejs/pinia/tree/v2/packages/nuxt#readme",author:"Eduardo San Martin Morote",license:"MIT"},{name:"Piper TTS",link:"https://github.com/rhasspy/piper",author:"Michael Hansen",license:"MIT",licenseLink:"https://github.com/rhasspy/piper/blob/master/LICENSE.md"},{name:"prettier",link:"https://github.com/prettier/prettier",author:"James Long and contributors",license:"MIT"},{name:"radix-vue",link:"https://github.com/radix-vue/radix-vue",author:"radix-vue",license:"MIT"},{name:"dart-sass",link:"https://github.com/sass/dart-sass",author:"Google Inc.",license:"MIT"},{name:"sass-loader",link:"https://github.com/webpack-contrib/sass-loader",author:"JS Foundation and other contributors",license:"MIT"},{name:"shadcn-nuxt",link:"https://github.com/radix-vue/shadcn-vue#readme",author:"radix-vue",license:"MIT"},{name:"shadcn-vue",link:"https://github.com/radix-vue/shadcn-vue#readme",author:"radix-vue",license:"MIT"},{name:"stable-diffusion.cpp",link:"https://github.com/leejet/stable-diffusion.cpp",author:"leejet",license:"MIT",licenseLink:"https://github.com/leejet/stable-diffusion.cpp/blob/master/LICENSE"},{name:"tailwindcss",link:"https://github.com/tailwindlabs/tailwindcss",author:"Tailwind Labs, Inc.",license:"MIT"},{name:"tailwind-merge",link:"https://github.com/dcastil/tailwind-merge",author:"Dany Castillo",license:"MIT"},{name:"tailwindcss-animate",link:"https://github.com/jamiebuilds/tailwindcss-animate",author:"Jamie Kyle",license:"MIT"},{name:"tsc-watch",link:"https://github.com/gilamran/tsc-watch#readme",author:"Gil Amran",license:"MIT"},{name:"typescript",link:"https://github.com/microsoft/TypeScript/#readme",author:"Microsoft Corporation, TypeScript contributors",license:"Apache-2.0"},{name:"uuid",link:"https://github.com/uuidjs/uuid#readme",author:"Robert Kieffer and other contributors",license:"MIT"},{name:"@vueuse/core",link:"https://github.com/vueuse/vueuse#readme",author:"Anthony Fu",license:"MIT"},{name:"wait-on",link:"https://github.com/jeffbski/wait-on#readme",author:"Jeff Barczewski",license:"MIT"},{name:"whisper.cpp",link:"https://github.com/ggerganov/whisper.cpp",author:"The ggml authors",license:"MIT",licenseLink:"https://github.com/ggerganov/whisper.cpp/blob/master/LICENSE"},{name:"zod",link:"https://github.com/colinhacks/zod",author:"Colin McDonnell",license:"MIT"}];return(s,n)=>(g(),y(o(Qe),{class:"h-screen"},{default:l(()=>[C("div",Ki,[n[4]||(n[4]=C("h1",{class:"text-2xl font-bold"},"BuddyGenAI Credits",-1)),C("div",Gi,[n[1]||(n[1]=C("p",{class:"text-md mt-2"}," BuddyGenAI was made using the following software projects and AI models: ",-1)),C("ul",Ji,[(g(),z(ye,null,Ce(t,a=>C("li",{key:a.name},[C("a",{href:a.link,class:"text-blue-500 cursor-pointer"},J(a.name),9,Xi),n[0]||(n[0]=M(" by ")),C("b",null,J(a.author),1),(g(!0),z(ye,null,Ce(a.license.split(","),r=>(g(),z("a",{href:a.licenseLink,key:r,class:oe("text-sm px-2 rounded-full ml-2 bg-gray-200 dark:bg-gray-800"+(a.licenseLink?" cursor-pointer":""))},J(r)+"license",11,Yi))),128)),a.note?(g(),z("span",Zi,J(" - "+a.note),1)):Q("",!0)])),64))]),n[2]||(n[2]=C("p",{class:"text-lg mt-4"},[C("a",{class:"text-blue-500 cursor-pointer",href:"https://github.com/parsehex/BuddyGenAI",target:"_blank"}," BuddyGenAI "),M(" is a project by "),C("b",null,"Thomas Mays"),M(" ( "),C("a",{class:"text-blue-500 cursor-pointer",href:"https://github.com/parsehex",target:"_blank"}," parsehex "),M(" ) "),C("a",{class:"text-sm px-2 rounded-full ml-1 bg-gray-200 dark:bg-gray-800",href:"https://github.com/parsehex/BuddyGenAI/blob/main/LICENSE",target:"_blank"}," MIT license ")],-1)),n[3]||(n[3]=C("p",{class:"text-lg mt-2"},[C("a",{class:"text-blue-500 underline cursor-pointer",href:"https://buddygenai.com"}," BuddyGenAI.com ")],-1))])])]),_:1}))}}),Ht=b({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,a=nn(s,"modelValue",t,{passive:!0,defaultValue:s.defaultValue});return(r,i)=>Xs((g(),z("textarea",{"onUpdate:modelValue":i[0]||(i[0]=u=>De(a)?a.value=u:null),class:oe(o(R)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s.class))},null,2)),[[Ys,o(a)]])}}),tu=b({__name:"Collapsible",props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(Sa),ce(de(o(a))),{default:l(({open:u})=>[T(r.$slots,"default",{open:u})]),_:3},16))}}),su=b({__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o($a),F(t,{class:"overflow-hidden transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down"}),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),nu=b({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(Ta),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),au=b({__name:"HoverCard",props:{defaultOpen:{type:Boolean},open:{type:Boolean},openDelay:{},closeDelay:{}},emits:["update:open"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(Pa),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),ou=b({__name:"HoverCardContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(Ea),null,{default:l(()=>[c(o(Ba),F(o(n),{class:o(R)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:l(()=>[T(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ru=b({__name:"HoverCardTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(Ia),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),lu={llamacppHealth:()=>"/health",llamacppBaseUrl:async()=>"",llamacppServerUrl:async()=>""},iu={create:()=>"/api/message",completion:()=>"/api/completion"},uu={getProfilePic:e=>`/images/${e}`},cu={get:e=>`/tts/${e}`},du={progress:()=>"/api/img/progress"},fu={other:lu,message:iu,buddy:uu,tts:cu,sd:du},pu={class:"flex items-center bg-primary-foreground rounded-lg"},mu={class:"flex items-center space-x-4"},hu={class:"space-y-1"},gu={class:"flex justify-around mb-2"},_u={class:"text-sm"},yu={class:"flex items-center py-2"},vu={class:"text-xs text-muted-foreground"},js=250,bu=b({__name:"BuddyCard",props:{buddy:{}},setup(e){const t=e,{buddy:s}=Ie(t),n=P(""),a=P(""),r=P(""),i=P(null),u=P(null),p=P(""),h=P("Created"),_=P(""),f=async()=>{if(!s.value)return;const m=s.value;n.value=m.id,a.value=m.name,m.description&&(m.description.length>js?r.value=m.description.slice(0,js)+"...":r.value=m.description),i.value=m.created,u.value=m.updated,m.profile_pic&&(p.value=fu.buddy.getProfilePic(`${m.id}/${m.profile_pic}`)),u.value?(h.value="Updated",_.value=Wt(new Date(u.value),{addSuffix:!0})):(h.value="Created",_.value=Wt(new Date(i.value),{addSuffix:!0}))};return yt(async()=>{await f()}),me(()=>s.value,async()=>{await f()}),(m,d)=>(g(),y(o(au),null,{default:l(()=>[c(o(ru),{"as-child":""},{default:l(()=>[C("div",pu,[c(at,{buddy:o(s),size:"sm"},null,8,["buddy"]),c(o(fe),{variant:"link",size:"lg"},{default:l(()=>[M(J(a.value),1)]),_:1})])]),_:1}),c(o(ou),{class:"w-96 p-0 py-2","hide-when-detached":!0},{default:l(()=>[C("div",mu,[c(at,{buddy:o(s),size:"base",class:"ml-4"},null,8,["buddy"]),C("div",hu,[C("div",gu,[c(o(fe),{type:"button",onClick:d[0]||(d[0]=w=>o(ke).push(`/buddy/${n.value}/edit`)),variant:"outline"},{default:l(()=>d[2]||(d[2]=[M(" Edit ")])),_:1}),c(o(fe),{type:"button",onClick:d[1]||(d[1]=w=>o(ke).push(`/buddy/${n.value}/view`)),variant:"outline"},{default:l(()=>d[3]||(d[3]=[M(" View ")])),_:1})]),C("p",_u,J(r.value),1),C("div",yu,[C("span",vu,J(h.value)+" "+J(_.value),1)])])])]),_:1})]),_:1}))}}),wu={user_name:"User",chat_image_enabled:0,chat_image_quality:"medium",fresh_db:0,n_gpu_layers:99,auto_send_stt:0,auto_read_chat:0,auto_start_server:0,skip_start_dialog:0};class xu{constructor(){this.isLoaded=!1,this.settings=JSON.parse(JSON.stringify(wu)),this.loadSettings()}get(t){return this.settings[t]}set(t,s){s===void 0&&this.settings[t]||(this.settings[t]=s)}getSettings(t){return t!=null&&t.length?t.reduce((s,n)=>(s[n]=this.settings[n],s),{}):this.settings}async loadSettings(){this.isLoaded=!0}async saveSettings(){}}const ku=new xu,Cu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAMAAQMAAABowU0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAANQTFRFy8vLHjhRxgAAAMJJREFUeJztzCEBAAAAAiD9f9oRVhhAc6pAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoHgMbWrAwEEZ4i2AAAAAElFTkSuQmCC",Au=b({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Ra),F(s.value,{class:o(R)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t.class)}),{default:l(()=>[c(o(Oa),{class:"h-full w-full flex-1 bg-primary transition-all",style:et(`transform: translateX(-${100-(t.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),Mu=["src"],Su={class:"flex flex-col items-center"},$u=["src"],Tu={key:0,class:"text-md font-bold text-center text-gray-600 dark:text-gray-400 select-none mt-2"},Mn=b({__name:"ImageWithPreview",props:{imgUrl:{},class:{}},setup(e){const t=e,{imgUrl:s,class:n}=Ie(t),a=x(()=>["cursor-pointer",n.value].join(" "));return(r,i)=>(g(),y(o(ns),null,{default:l(()=>[c(o(ls),{"as-child":""},{default:l(()=>[C("img",{class:oe(a.value),src:o(s),title:"Click to preview"},null,10,Mu)]),_:1}),c(o(as),null,{default:l(()=>[C("div",Su,[c(o(rs),null,{default:l(()=>i[0]||(i[0]=[M("Image")])),_:1}),c(o(os),{class:"mb-4"}),C("img",{src:o(s),class:"max-h-[75vh]"},null,8,$u),o(s)!=="loading"?(g(),z("p",Tu," AI-created images may have unexpected results and do not depict real people. ")):Q("",!0)])]),_:1})]),_:1}))}}),Pu={key:1,class:"shadow-md max-w-32",src:Cu},Bu=b({__name:"MessageImage",props:{imgValue:{}},setup(e){const t=le(),s=e,{imgValue:n}=Ie(s);P(!1);const a=x(()=>n.value==="loading");return(r,i)=>(g(),z("div",{class:oe(["rounded-lg","transition-all","md:max-w-[150px]","md:min-w-[150px]","lg:max-w-[250px]","lg:min-w-[250px]","md:mx-0"]),onContextmenu:i[0]||(i[0]=Da(()=>{},["prevent"]))},[a.value?(g(),y(o(Au),{key:0,"model-value":o(t).imgProgress*100,style:et({opacity:o(t).imgGenerating?1:0})},null,8,["model-value","style"])):Q("",!0),a.value?(g(),z("img",Pu)):Q("",!0),a.value?Q("",!0):(g(),y(Mn,{key:2,"img-url":o(n),class:"shadow-md cursor-pointer hover:shadow-lg hover:scale-110 transition-transform"},null,8,["img-url"]))],32))}}),Eu={key:1},Iu={key:2},Ou={class:"grow"},Ru=b({__name:"ChatMessage",props:{threadId:{},message:{},threadMode:{},currentBuddy:{}},emits:["edit","delete","clearThread"],setup(e,{emit:t}){vt();const s=le(),n=e,{threadId:a,message:r,threadMode:i,currentBuddy:u}=Ie(n),p=t,h=x(()=>r.value.role==="user"),_=P(r.value.image||"");me(()=>r.value,async E=>{E.image&&(_.value=E.image)});const f=P(""),m=P(""),d=P(!1),w=x(()=>h.value?s.settings.user_name||"User":""),$=async()=>{f.value="Editing Message",m.value=r.value.content,d.value=!0},L=async(E,k=!1)=>{k&&((E==null?void 0:E.key)!=="Enter"&&!k||!(E!=null&&E.ctrlKey)&&!k||(await ge.message.updateOne(r.value.id,m.value),m.value="",p("edit",r.value.id),d.value=!1))},j=()=>{m.value="",d.value=!1},I=async()=>{await ge.message.removeOne(r.value.id),p("delete",r.value.id)},B=()=>{r.value.content&&ja(r.value.content)},N=async()=>{a&&(await ge.message.removeAll(a.value),p("clearThread"))},D=x(()=>h.value?w.value[0]:u.value?u.value.name.split(" ")[0][0]:""),Y=x(()=>!0),K=x(()=>r.value.tts||""),V=async()=>{La(K.value)};return(E,k)=>{const U=Ue("RouterLink");return g(),y(o(ns),{modal:!0,open:d.value,"onUpdate:open":k[2]||(k[2]=G=>d.value=G)},{default:l(()=>[c(o(es),null,{default:l(()=>[c(o(ss),null,{default:l(()=>[c(o(Kt),{class:"chat-message whitespace-pre-wrap",id:"message-"+o(r).id},{default:l(()=>[o(i)==="persona"?(g(),y(o(zt),{key:0,class:"p-3 flex flex-row items-center space-x-2 pt-1 pb-2"},{default:l(()=>{var G;return[h.value?(g(),y(o(pt),{key:0,class:"text-md mt-2 font-bold",style:et({backgroundColor:o(Va)(w.value,60,80)})},{default:l(()=>[c(o(mt),null,{default:l(()=>[M(J(D.value),1)]),_:1})]),_:1},8,["style"])):Q("",!0),h.value?(g(),z("span",Eu,J(w.value),1)):(g(),z("span",Iu,[c(U,{to:`/buddy/${(G=o(u))==null?void 0:G.id}/view`,class:"flex items-center hover:bg-primary-foreground hover:text-primary-background p-1 rounded-lg"},{default:l(()=>{var te;return[!h.value&&o(u)?(g(),y(at,{key:0,buddy:o(u)},null,8,["buddy"])):Q("",!0),M(" "+J((te=o(u))==null?void 0:te.name),1)]}),_:1},8,["to"])])),!h.value&&Y.value?(g(),y(o(fe),{key:3,onClick:V,variant:"secondary",size:"sm",class:"ml-2"},{default:l(()=>[c(o(hs))]),_:1})):Q("",!0)]}),_:1})):(g(),y(o(zt),{key:1,class:"p-3 flex flex-row items-center space-x-2 pt-1 pb-2"},{default:l(()=>[M(J(o(r).role==="user"?w.value:"AI")+" ",1),h.value?Q("",!0):(g(),y(o(fe),{key:0,onClick:V,variant:"secondary",size:"sm",class:"ml-2"},{default:l(()=>[c(o(hs))]),_:1}))]),_:1})),c(o(Zs),{class:"p-3 pl-6 pt-0 flex items-center justify-between gap-2"},{default:l(()=>[C("div",Ou,J(o(r).content),1),_.value?(g(),y(Bu,{key:0,imgValue:_.value},null,8,["imgValue"])):Q("",!0)]),_:1})]),_:1},8,["id"])]),_:1}),c(o(ts),null,{default:l(()=>[c(o(Pe),{onClick:B},{default:l(()=>k[3]||(k[3]=[M("Copy")])),_:1}),c(o(ls),{asChild:""},{default:l(()=>[h.value||o(i)==="custom"?(g(),y(o(Pe),{key:0,onClick:$},{default:l(()=>k[4]||(k[4]=[M(" Edit ")])),_:1})):Q("",!0)]),_:1}),c(o(Pe),{onClick:I},{default:l(()=>k[5]||(k[5]=[M("Delete")])),_:1}),o(ds)()?(g(),y(o(Il),{key:0})):Q("",!0),o(ds)()?(g(),y(o(Pe),{key:1,onClick:N},{default:l(()=>k[6]||(k[6]=[M(" Delete All Messages ")])),_:1})):Q("",!0)]),_:1})]),_:1}),c(o(as),null,{default:l(()=>[c(o(Cn),null,{default:l(()=>[c(o(rs),null,{default:l(()=>[M(J(f.value),1)]),_:1})]),_:1}),c(o(os),null,{default:l(()=>[c(o(Ht),{modelValue:m.value,"onUpdate:modelValue":k[0]||(k[0]=G=>m.value=G),onKeydown:za(L,["enter"]),placeholder:"Message content...",class:"w-full min-h-48"},null,8,["modelValue"])]),_:1}),c(o(kn),null,{default:l(()=>[c(o(xn),{"as-child":""},{default:l(()=>[c(o(fe),{onClick:j,type:"button",variant:"outline"},{default:l(()=>k[7]||(k[7]=[M("Cancel")])),_:1}),c(o(fe),{onClick:k[1]||(k[1]=G=>L(null,!0)),type:"button"},{default:l(()=>k[8]||(k[8]=[M("Confirm")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),Du=b({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(Na),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),Vu=b({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(Ua),null,{default:l(()=>[c(o(Fa),F({...o(r),...i.$attrs},{class:o(R)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:l(()=>[T(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),zu=b({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(Wa),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),ju={class:"flex flex-row"},Lu={key:0,class:"p-2 select-none"},Nu=2,Fu=b({__name:"ThreadImages",props:{images:{}},setup(e){const t=e;let s=!1,n,a;function r(){return document.querySelector("#scrollArea > div")}const i=m=>{const d=r();d&&(s=!0,n=m.pageX-d.offsetLeft,a=d.scrollLeft)},u=()=>{s=!1},p=()=>{s=!1},h=m=>{if(!s)return;const d=r();if(!d)return;console.log("move"),m.preventDefault();const $=m.pageX-d.offsetLeft-n;d.scrollLeft=a-$},_=m=>{const d=r();if(!d)return;m.preventDefault();const w=d.scrollLeft+m.deltaY*Nu;d.scrollTo({left:w,behavior:"smooth"})},f=async()=>{await Ha(5);const m=r();console.log("scrollArea",m),m&&m.scrollTo({left:m.scrollWidth,behavior:"smooth"})};return(m,d)=>(g(),y(o(Du),{"onUpdate:open":f},{default:l(()=>[c(o(zu),{"as-child":""},{default:l(()=>d[0]||(d[0]=[C("div",{class:"flex items-center bg-primary-foreground rounded-lg justify-center cursor-pointer"},[C("span",{class:"p-2 select-none"}," Images in this Chat ")],-1)])),_:1}),c(o(Vu),{class:"min-w-[40vw] bg-primary-foreground","hide-when-detached":!0,side:"bottom"},{default:l(()=>[c(o(Qe),{id:"scrollArea",onMousedown:i,onMouseleave:u,onMouseup:p,onMousemove:h,onWheel:_},{default:l(()=>[C("div",ju,[(g(!0),z(ye,null,Ce(t.images,w=>(g(),z("div",{key:w.url,class:"p-1"},[c(Mn,{"img-url":w.url,class:"min-w-[200px]"},null,8,["img-url"])]))),128))]),t.images.length?Q("",!0):(g(),z("p",Lu," No images in this chat. "))]),_:1})]),_:1})]),_:1}))}}),Uu={key:0,class:"flex flex-col px-4 pb-4 mx-auto stretch w-full h-full"},Wu={class:"flex items-center justify-between py-4 border-b-2 border-gray-100 dark:border-gray-700"},Hu={class:"text-2xl font-bold"},Qu={class:"flex flex-col gap-1 my-1",id:"chatbox"},qu={class:"w-full flex gap-1.5 items-center justify-center mt-1"},Ku={class:"flex flex-col items-center gap-1"},Gu={key:1,class:"mt-4 text-sm font-semibold text-gray-400 dark:text-gray-600 select-none"},Ju=b({__name:"Chatbox",props:{threadId:{},initialMessages:{}},async setup(e){var je;let t,s;vt();const{updateBuddies:n,updateThreads:a}=le(),r=le(),{buddies:i,threads:u}=wn(r);window.addEventListener("focus",async()=>{});const p=e,{threadId:h,initialMessages:_}=Ie(p),f=P(!1),m=x(()=>j.value.some(H=>H.role==="system")),d=x(()=>j.value[0]),w=P(""),$=x(()=>{const H=u.value.find(ee=>ee.id===h.value);return(H==null?void 0:H.name)||""});P({threadId:h.value,temperature:.75,seed:-1});const L=x(()=>!1);P(""),ku.get("user_name");const j=x(()=>r.threadMessages);me(()=>h.value,async()=>{const H=await ge.thread.getOne(h.value);U.value=H.mode,H.mode==="persona"&&H.persona_id&&(te.value=H.persona_id);const ee=await _.value;ee.length?r.setThreadMessages(ee):await D()}),me(()=>j.value.length,()=>{});const I=x(()=>j.value.filter(H=>H.image&&H.role==="assistant")),B=x(()=>j.value.filter(H=>H.role!=="system"));async function N(){const H=await ge.thread.getOne(h.value);return k.value=H,H}async function D(){const H=await ge.message.getAll(h.value);return r.setThreadMessages(H),H}async function Y(){const H=await n();return U.value==="persona"&&!te.value&&(H==null?void 0:H.length)===1&&(te.value=H[0].id),H||[]}const K=async()=>{console.log("sysIsOpen",f.value,m.value,d.value),d.value&&(w.value=d.value.content)},V=async()=>{if(!d.value){await ge.message.createOne(h.value,{role:"system",content:w.value,thred_index:0}),await D();return}await ge.message.updateOne(d.value.id,w.value);const ee=(await D()).find(he=>he.role==="system");ee&&(w.value=ee.content)},E=P(!1),k=P({}),U=P("custom"),G=P(!1),te=P(((je=k.value)==null?void 0:je.persona_id)||""),Ve=async()=>{if(h){if(E.value){setTimeout(()=>{E.value=!1},10);return}await ge.thread.updateOne(h.value,{persona_id:te.value}),await D(),await Y()}},X=x(()=>i.value.find(H=>H.id===te.value));me(te,Ve),[t,s]=rt(()=>Y()),await t,s();let ae;try{ae=([t,s]=rt(()=>N()),t=await t,s(),t)}catch{[t,s]=rt(()=>ke.push("/")),await t,s()}E.value=!0,U.value=(ae==null?void 0:ae.mode)||"custom",U.value==="persona"&&(ae!=null&&ae.persona_mode_use_current)&&(G.value=!0),E.value=!0,te.value=(ae==null?void 0:ae.persona_id)||"",[t,s]=rt(()=>D()),await t,s(),yt(async()=>{setTimeout(()=>{},250)});const ne=x(()=>!1),Oe=x(()=>!1),ze=P(!1),xe=P(!1),ot=async()=>{};return(H,ee)=>o(h)!==""?(g(),z("div",Uu,[C("div",Wu,[C("h2",Hu,J($.value),1),I.value.length>0?(g(),y(Fu,{key:0,images:I.value.map(he=>({url:he.image}))},null,8,["images"])):Q("",!0),U.value==="persona"&&te.value&&X.value?(g(),y(bu,{key:1,buddy:X.value},null,8,["buddy"])):Q("",!0)]),U.value==="custom"?(g(),y(o(tu),{key:0,class:"my-2",open:f.value,"onUpdate:open":ee[1]||(ee[1]=he=>f.value=he),defaultOpen:!1},{default:l(()=>[c(o(nu),{onClick:K},{default:l(()=>[c(o(fe),{type:"button",variant:"ghost",size:"sm"},{default:l(()=>[M(" Instructions "+J(f.value?"":""),1)]),_:1})]),_:1}),c(o(su),null,{default:l(()=>[c(o(Kt),{class:"whitespace-pre-wrap"},{default:l(()=>[c(o(zt),null,{default:l(()=>ee[2]||(ee[2]=[M("Custom Instructions")])),_:1}),c(o(Zs),null,{default:l(()=>[c(o(Ht),{modelValue:w.value,"onUpdate:modelValue":ee[0]||(ee[0]=he=>w.value=he)},null,8,["modelValue"])]),_:1}),c(o(qo),null,{default:l(()=>[c(o(fe),{type:"button",onClick:V},{default:l(()=>ee[3]||(ee[3]=[M("Update")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])):Q("",!0),c(o(Qe),{style:{height:"100%"},id:"messages-scroll"},{default:l(()=>[C("div",Qu,[(g(!0),z(ye,null,Ce(B.value,he=>(g(),y(Ru,{key:he.id,"thread-id":o(h),"thread-mode":U.value,"current-buddy":X.value,message:he,onEdit:D,onDelete:D,onClearThread:D},null,8,["thread-id","thread-mode","current-buddy","message"]))),128))])]),_:1}),C("form",qu,[L.value?(g(),y(o(fe),{key:0,type:"button",size:"sm",onClick:ot,title:"Start recording audio",variant:ze.value?"destructive":"default",class:oe(xe.value?"opacity-75 cursor-not-allowed":""),disabled:xe.value},{default:l(()=>[ze.value?(g(),y(o(Fo),{key:1})):(g(),y(o(Uo),{key:0}))]),_:1},8,["variant","class","disabled"])):Q("",!0),c(o(Ht),{class:"p-2 rounded shadow-sm text-lg max-h-52 border border-gray-300 dark:border-gray-700",tabindex:"1",disabled:!ne.value,placeholder:"Say something...",autofocus:""},null,8,["disabled"]),C("div",Ku,[c(o(fe),{type:"button",size:"sm",disabled:!ne.value},{default:l(()=>ee[4]||(ee[4]=[M(" Send ")])),_:1},8,["disabled"]),j.value.length?(g(),y(o(fe),{key:0,type:"button",class:"w-full",size:"sm",disabled:!Oe.value,title:"Re-submit your last message to get a new response"},{default:l(()=>[c(o(Ho))]),_:1},8,["disabled"])):Q("",!0)])]),B.value.length>2||B.value.length>1?(g(),z("p",Gu,ee[5]||(ee[5]=[C("u",null,[C("i",null,"Reminder")],-1),M(" Buddies in this app are AI -- they make mistakes sometimes and they're not real people. ")]))):Q("",!0)])):Q("",!0)}}),Xu=b({__name:"chat",setup(e){const t=bt(),s=x(()=>t.params.id),n=async()=>await ge.message.getAll(s.value);return(a,r)=>s.value?(g(),y(Ju,{key:0,threadId:s.value,initialMessages:n()},null,8,["threadId","initialMessages"])):Q("",!0)}}),Yu=[{path:"/",component:qi},{path:"/chat/:id",component:Xu},{path:"/credits",component:eu}],ke=al({history:Or(),routes:Yu}),Zu={class:"pb-[150px]"},ec=["onContextmenu"],tc=["onClick"],sc=b({__name:"ThreadsList",setup(e){const t=bt(),s=f=>t.path.includes("/chat")&&t.params.id===f,{updateThreads:n}=le(),a=le(),r=P(""),i=P("");yt(async()=>{await n()});const u=f=>{const m=a.threads.find(d=>d.id===f);if(!m){console.error(`Couldn't find thread with id ${f} to rename`),r.value="";return}r.value=m.name},p=async()=>{r.value&&(await ge.thread.updateOne(i.value,{name:r.value}),r.value="",await n())},h=async f=>{console.log("deleting thread",f),await ge.thread.removeOne(f);const m=await n();if(t.params.id===f){const d=m[0];d?ke.push(`/chat/${d.id}`):ke.push("/")}},_=async f=>{ke.push(`/chat/${f}`);const m=a.threads.find(w=>w.id===f);if(!m){console.error(`Couldn't find thread with id ${f} to go to`);return}const d=m.messages||[];d&&(console.log("setting thread messages",d),a.setThreadMessages(d),await ke.push(`/chat/${f}`))};return(f,m)=>(g(),z("ul",Zu,[c(o(ns),null,{default:l(()=>[c(o(es),null,{default:l(()=>[c(o(ss),null,{default:l(()=>[(g(!0),z(ye,null,Ce(o(a).threads,d=>(g(),z("li",{key:d.id,class:oe(["cursor-pointer","hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","rounded","border-b-2",s(d.id)?"font-bold bg-gray-200 dark:bg-gray-800":""]),onContextmenu:w=>i.value=d.id},[C("div",{onClick:w=>_(d.id),class:"block p-2"},J(d.name),9,tc)],42,ec))),128))]),_:1}),c(o(ts),null,{default:l(()=>[c(o(ls),{asChild:""},{default:l(()=>[c(o(Pe),{onClick:m[0]||(m[0]=d=>u(i.value))},{default:l(()=>m[3]||(m[3]=[M(" Rename ")])),_:1})]),_:1}),c(o(Pe),{onClick:m[1]||(m[1]=d=>h(i.value))},{default:l(()=>m[4]||(m[4]=[M(" Delete ")])),_:1})]),_:1})]),_:1}),c(o(as),null,{default:l(()=>[c(o(Cn),null,{default:l(()=>[c(o(rs),null,{default:l(()=>m[5]||(m[5]=[M("New Name")])),_:1})]),_:1}),c(o(os),null,{default:l(()=>[c(o(An),{modelValue:r.value,"onUpdate:modelValue":m[2]||(m[2]=d=>r.value=d),placeholder:"Thread name"},null,8,["modelValue"])]),_:1}),c(o(kn),null,{default:l(()=>[c(o(xn),{"as-child":""},{default:l(()=>[c(o(fe),{onClick:p,type:"button"},{default:l(()=>m[6]||(m[6]=[M("Confirm")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}}),nc={class:"sidebar"},ac={class:"flex justify-around"},oc={class:"mt-2"},rc=["onContextmenu"],lc={class:"ml-1"},ic=b({__name:"BuddyList",setup(e){const{updateBuddies:t}=le(),s=le().buddies,n=bt(),a=P(""),r=p=>n.path.includes("/buddy")&&n.params.id==p;yt(async()=>{await t()});const i=async p=>{const h=r(p);await t(),h&&ke.push("/")},u=p=>{ke.push(`/buddy/${p}/edit`)};return(p,h)=>{const _=Ue("RouterLink");return g(),z("div",nc,[C("div",ac,[c(o(fe),{type:"button",onClick:h[0]||(h[0]=f=>p.$router.push("/create-buddy")),class:"mt-2"},{default:l(()=>h[3]||(h[3]=[M(" Create a Buddy ")])),_:1})]),C("ul",oc,[c(o(es),null,{default:l(()=>[c(o(ss),null,{default:l(()=>[(g(!0),z(ye,null,Ce(o(s),f=>(g(),z("li",{key:f.id,class:oe(["cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors rounded border-b-2",r(f.id)?"font-bold bg-gray-200 dark:bg-gray-800":""]),onContextmenu:m=>a.value=f.id},[c(_,{class:"p-2 flex items-center",to:`/buddy/${f.id}/view`},{default:l(()=>[c(at,{buddy:f},null,8,["buddy"]),C("span",lc,J(f.name),1)]),_:2},1032,["to"])],42,rc))),128))]),_:1}),c(o(ts),null,{default:l(()=>[c(o(Pe),{onClick:h[1]||(h[1]=f=>u(a.value))},{default:l(()=>h[4]||(h[4]=[M("Edit")])),_:1}),c(o(Pe),{onClick:h[2]||(h[2]=f=>i(a.value))},{default:l(()=>h[5]||(h[5]=[M(" Delete ")])),_:1})]),_:1})]),_:1})])])}}}),Sn=b({__name:"Alert",props:{class:{},variant:{}},setup(e){const t=e;return(s,n)=>(g(),z("div",{class:oe(o(R)(o(cc)({variant:s.variant}),t.class)),role:"alert"},[T(s.$slots,"default")],2))}}),$n=b({__name:"AlertDescription",props:{class:{}},setup(e){const t=e;return(s,n)=>(g(),z("div",{class:oe(o(R)("text-sm [&_p]:leading-relaxed",t.class))},[T(s.$slots,"default")],2))}}),uc=b({__name:"AlertTitle",props:{class:{}},setup(e){const t=e;return(s,n)=>(g(),z("h5",{class:oe(o(R)("mb-1 font-medium leading-none tracking-tight",t.class))},[T(s.$slots,"default")],2))}}),cc=Qt("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",info:"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-50"}},defaultVariants:{variant:"default"}}),dc=b({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(Qa),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),xt=b({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(qa),F(s.value,{class:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"}),{default:l(()=>[C("div",{class:oe(o(R)("pb-4 pt-0",t.class))},[T(n.$slots,"default")],2)]),_:3},16))}}),kt=b({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(Ka),F(o(n),{class:o(R)("border-b",t.class)}),{default:l(()=>[T(a.$slots,"default")]),_:3},16,["class"]))}}),Ct=b({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Ja),{class:"flex"},{default:l(()=>[c(o(Ga),F(s.value,{class:o(R)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t.class)}),{default:l(()=>[T(n.$slots,"default"),T(n.$slots,"icon",{},()=>[c(o(Gt),{class:"h-4 w-4 shrink-0 transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}}),Ee=b({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(Xa),F(s.value,{class:o(R)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t.class)}),{default:l(()=>[T(n.$slots,"default")]),_:3},16,["class"]))}}),At=b({__name:"OptionSection",props:{label:{type:String,default:""},labelName:{type:String,default:""},orientation:{type:String,default:"horizontal"}},setup(e){const t=e,{orientation:s}=Ie(t),n=x(()=>"flex "+(s.value==="horizontal"?"flex-row":"flex-col"));return(a,r)=>(g(),z("div",{class:oe(n.value+" w-full justify-between gap-1 my-2")},[e.label?(g(),y(o(Ee),{key:0,for:e.labelName,class:"text-sm block font-semibold text-gray-700 dark:text-gray-300"},{default:l(()=>[M(J(e.label),1)]),_:1},8,["for"])):Q("",!0),T(a.$slots,"default")],2))}}),fc=b({__name:"GeneralOptions",setup(e){const t=le(),s=P(t.settings.user_name),n=async()=>{t.settings.user_name!==s.value&&(t.settings.user_name=s.value)};return(a,r)=>(g(),y(o(kt),{value:"general-options"},{default:l(()=>[c(o(Ct),null,{default:l(()=>r[2]||(r[2]=[M("General Options")])),_:1}),c(o(xt),null,{default:l(()=>[c(At,{label:"Your Name",labelName:"name",orientation:"vertical"},{default:l(()=>[c(o(An),{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=i=>s.value=i),onBlur:r[1]||(r[1]=i=>n()),id:"name",class:"border border-gray-300 dark:border-gray-700 rounded-md p-2",type:"text"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}))}}),Tn=b({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(Ya),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),Pn=b({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(to),null,{default:l(()=>[c(o(Za),F({...o(r),...i.$attrs},{class:o(R)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s.class)}),{default:l(()=>[c(o(hc)),c(o(eo),{class:oe(o(R)("p-1",i.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:l(()=>[T(i.$slots,"default")]),_:3},8,["class"]),c(o(mc))]),_:3},16,["class"])]),_:3}))}}),Bn=b({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:n,...a}=t;return a});return(n,a)=>(g(),y(o(so),F({class:o(R)("p-1 w-full",t.class)},s.value),{default:l(()=>[T(n.$slots,"default")]),_:3},16,["class"]))}}),pc={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},En=b({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(oo),F(o(n),{class:o(R)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.class)}),{default:l(()=>[C("span",pc,[c(o(no),null,{default:l(()=>[c(o(zo),{class:"h-4 w-4"})]),_:1})]),c(o(ao),null,{default:l(()=>[T(a.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),In=b({__name:"SelectLabel",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(ro),{class:oe(o(R)("py-1.5 pl-8 pr-2 text-sm font-semibold",t.class))},{default:l(()=>[T(s.$slots,"default")]),_:3},8,["class"]))}}),mc=b({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(lo),F(o(n),{class:o(R)("flex cursor-default items-center justify-center py-1",t.class)}),{default:l(()=>[T(a.$slots,"default",{},()=>[c(o(Gt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),hc=b({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(io),F(o(n),{class:o(R)("flex cursor-default items-center justify-center py-1",t.class)}),{default:l(()=>[T(a.$slots,"default",{},()=>[c(o(jo),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),On=b({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(co),F(o(n),{class:o(R)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",t.class)}),{default:l(()=>[T(a.$slots,"default"),c(o(uo),{"as-child":""},{default:l(()=>[c(o(Gt),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}}),Rn=b({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(s,n)=>(g(),y(o(fo),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),gc=b({__name:"Switch",props:{defaultChecked:{type:Boolean},checked:{type:Boolean},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},value:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(mo),F(o(r),{class:o(R)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s.class)}),{default:l(()=>[c(o(po),{class:oe(o(R)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5"))},{default:l(()=>[T(i.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),_c=b({__name:"ImageAIOptions",setup(e){const t=le(),s=async r=>{t.settings.chat_image_quality!==r&&(t.settings.chat_image_quality=r)},n=x(()=>t.settings.chat_image_enabled==="1.0"||t.settings.chat_image_enabled===1),a=async r=>{const i=r?1:0;t.settings.chat_image_enabled!==i&&(t.settings.chat_image_enabled=i+".0")};return(r,i)=>(g(),y(o(kt),{value:"image-ai-options"},{default:l(()=>[c(o(Ct),null,{default:l(()=>i[0]||(i[0]=[M("Image AI Options")])),_:1}),c(o(xt),null,{default:l(()=>[c(At,{label:"Chat Images",labelName:"chat-images",orientation:"vertical"},{default:l(()=>[c(o(Ee),{class:"flex items-center gap-2"},{default:l(()=>[c(o(gc),{checked:n.value,"onUpdate:checked":a},null,8,["checked"]),i[1]||(i[1]=M(" Enable chat images "))]),_:1}),c(o(Ee),{class:"text-sm flex items-center gap-2"},{default:l(()=>[i[3]||(i[3]=M(" Quality ")),c(o(Tn),{"default-value":o(t).settings.chat_image_quality,"onUpdate:modelValue":s,id:"chat-image-quality"},{default:l(()=>[c(o(On),{title:o(t).settings.chat_image_quality},{default:l(()=>[c(o(Rn),{placeholder:"Select an image quality"})]),_:1},8,["title"]),c(o(Pn),null,{default:l(()=>[c(o(Bn),null,{default:l(()=>[c(o(In),null,{default:l(()=>i[2]||(i[2]=[M("Image Quality")])),_:1}),(g(),z(ye,null,Ce(["low","medium","high"],u=>c(o(En),{key:u,value:u},{default:l(()=>[M(J(u),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["default-value"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Dn=b({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},name:{},required:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(ho),F({class:o(R)("grid gap-2",s.class)},o(r)),{default:l(()=>[T(i.$slots,"default")]),_:3},16,["class"]))}}),ht=b({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},required:{type:Boolean},name:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(_o),F(o(n),{class:o(R)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:l(()=>[c(o(go),{class:"flex items-center justify-center"},{default:l(()=>[c(o(Lo),{class:"h-2.5 w-2.5 fill-current text-current"})]),_:1})]),_:1},16,["class"]))}}),yc={class:"flex items-center space-x-2"},vc={class:"flex items-center space-x-2"},bc=b({__name:"TTSOptions",setup(e){const t=le(),s=x({get:()=>t.settings.auto_read_chat===1||t.settings.auto_read_chat==="1.0"?"true":"false",set:n=>{if(n===t.settings.auto_read_chat+"")return;const r=n==="true"?1:0;r!==t.settings.auto_read_chat&&(t.settings.auto_read_chat=r)}});return(n,a)=>(g(),y(o(kt),{value:"tts-options"},{default:l(()=>[c(o(Ct),null,{default:l(()=>a[1]||(a[1]=[M("Text-to-Speech Options")])),_:1}),c(o(xt),null,{default:l(()=>[c(At,{label:"Auto Read Chat",labelName:"auto_read_chat",orientation:"vertical"},{default:l(()=>[c(o(Dn),{"default-value":s.value,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=r=>s.value=r),id:"auto_read_chat",class:"flex flex-row"},{default:l(()=>[C("div",yc,[c(o(ht),{id:"auto-tts-yes",value:"true"},{default:l(()=>a[2]||(a[2]=[M("Yes")])),_:1}),c(o(Ee),{for:"auto-tts-yes",class:"block"},{default:l(()=>a[3]||(a[3]=[M("Yes")])),_:1})]),C("div",vc,[c(o(ht),{id:"auto-tts-no",value:"false"},{default:l(()=>a[4]||(a[4]=[M("No")])),_:1}),c(o(Ee),{for:"auto-tts-no",class:"block"},{default:l(()=>a[5]||(a[5]=[M("No")])),_:1})])]),_:1},8,["default-value","modelValue"])]),_:1})]),_:1})]),_:1}))}}),wc={class:"flex items-center space-x-2"},xc={class:"flex items-center space-x-2"},kc=b({__name:"STTOptions",setup(e){const t=le(),s=x({get:()=>t.settings.auto_send_stt===1||t.settings.auto_send_stt==="1.0"?"true":"false",set:n=>{if(n===t.settings.auto_send_stt+"")return;const r=n==="true"?1:0;r!==t.settings.auto_send_stt&&(t.settings.auto_send_stt=r+".0")}});return(n,a)=>(g(),y(o(kt),{value:"stt-options"},{default:l(()=>[c(o(Ct),null,{default:l(()=>a[1]||(a[1]=[M("Speech-to-Text Options")])),_:1}),c(o(xt),null,{default:l(()=>[c(At,{label:"Auto Send STT",labelName:"auto_send_stt",orientation:"vertical"},{default:l(()=>[c(o(Dn),{"default-value":s.value,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=r=>s.value=r),id:"auto_send_stt",class:"flex flex-row"},{default:l(()=>[C("div",wc,[c(o(ht),{id:"auto-stt-yes",value:"true"},{default:l(()=>a[2]||(a[2]=[M("Yes")])),_:1}),c(o(Ee),{for:"auto-stt-yes",class:"block"},{default:l(()=>a[3]||(a[3]=[M("Yes")])),_:1})]),C("div",xc,[c(o(ht),{id:"auto-stt-no",value:"false"},{default:l(()=>a[4]||(a[4]=[M("No")])),_:1}),c(o(Ee),{for:"auto-stt-no",class:"block"},{default:l(()=>a[5]||(a[5]=[M("No")])),_:1})])]),_:1},8,["default-value","modelValue"])]),_:1})]),_:1})]),_:1}))}}),Cc={class:"mt-4 flex flex-col items-center"},Ac=b({__name:"SettingsPanel",setup(e){const t=x(()=>!0),s=x(()=>!1),n=P(""),a=()=>{window.location.reload()};return(r,i)=>{const u=Ue("RouterLink");return g(),y(o(Qe),{class:"h-screen pb-12"},{default:l(()=>[n.value?(g(),y(o(Sn),{key:0,variant:"destructive"},{default:l(()=>[c(o(uc),null,{default:l(()=>i[0]||(i[0]=[M("Error")])),_:1}),c(o($n),null,{default:l(()=>[M(J(n.value),1)]),_:1})]),_:1})):Q("",!0),c(o(dc),{class:"px-2",type:"multiple",collapsible:""},{default:l(()=>[c(fc),c(_c),t.value?(g(),y(bc,{key:0})):Q("",!0),s.value?(g(),y(kc,{key:1})):Q("",!0)]),_:1}),C("div",Cc,[c(o(fe),{type:"button",onClick:a,class:"px-4 py-2 rounded-md",variant:"ghost"},{default:l(()=>i[1]||(i[1]=[M("Reload Page")])),_:1}),c(u,{to:"/credits"},{default:l(()=>i[2]||(i[2]=[M("App Credits")])),_:1})])]),_:1})}}}),Mc=b({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const a=ie(e,t);return(r,i)=>(g(),y(o(yo),ce(de(o(a))),{default:l(()=>[T(r.$slots,"default")]),_:3},16))}}),Sc=b({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(bo),null,{default:l(()=>[c(o(vo),F(o(r),{class:o(R)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:l(()=>[T(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Vt=b({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const t=e,s=x(()=>{const{class:a,...r}=t;return r}),n=_e(s);return(a,r)=>(g(),y(o(wo),F(o(n),{class:o(R)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50  [&>svg]:size-4 [&>svg]:shrink-0",a.inset&&"pl-8",t.class)}),{default:l(()=>[T(a.$slots,"default")]),_:3},16,["class"]))}}),$c=b({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const s=_e(e);return(n,a)=>(g(),y(o(xo),F({class:"outline-none"},o(s)),{default:l(()=>[T(n.$slots,"default")]),_:3},16))}}),Tc=b({__name:"ColorMode",setup(e){const t=sn();return(s,n)=>(g(),y(o(Mc),null,{default:l(()=>[c(o($c),{"as-child":""},{default:l(()=>[c(o(fe),{variant:"outline",size:"xs",class:"ml-1 p-2 py-4"},{default:l(()=>[o(t)==="light"?(g(),y(o(Qo),{key:0})):(g(),y(o(Wo),{key:1})),n[3]||(n[3]=C("span",{class:"sr-only"},"Toggle theme",-1))]),_:1})]),_:1}),c(o(Sc),{align:"end"},{default:l(()=>[c(o(Vt),{onClick:n[0]||(n[0]=a=>t.value="light")},{default:l(()=>n[4]||(n[4]=[M("Light")])),_:1}),c(o(Vt),{onClick:n[1]||(n[1]=a=>t.value="dark")},{default:l(()=>n[5]||(n[5]=[M("Dark")])),_:1}),c(o(Vt),{onClick:n[2]||(n[2]=a=>t.value="auto")},{default:l(()=>n[6]||(n[6]=[M("System")])),_:1})]),_:1})]),_:1}))}}),Pc={class:"flex items-center space-x-2 justify-around w-full"},Bc=b({__name:"BuddySelect",props:{includeAi:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:t}){const s=P(""),n=le(),a=t,r=i=>{a("select",i)};return(i,u)=>(g(),z("div",Pc,[c(o(Ee),null,{default:l(()=>u[3]||(u[3]=[M("Chat with:")])),_:1}),e.includeAi?(g(),y(o(fe),{key:0,onClick:u[0]||(u[0]=p=>r("ai"))},{default:l(()=>u[4]||(u[4]=[M(" Assistant ")])),_:1})):Q("",!0),o(n).buddies.length>0?(g(),y(o(Tn),{key:1,class:"my-2","onUpdate:modelValue":[u[1]||(u[1]=p=>{r(p),s.value=""}),u[2]||(u[2]=p=>s.value=p)],modelValue:s.value},{default:l(()=>[c(o(On),null,{default:l(()=>[c(o(Rn),{placeholder:"Buddy"})]),_:1}),c(o(Pn),null,{default:l(()=>[c(o(In),null,{default:l(()=>u[5]||(u[5]=[M("Buddies")])),_:1}),c(o(Bn),null,{default:l(()=>[(g(!0),z(ye,null,Ce(o(n).buddies,p=>(g(),y(o(En),{key:p.id,value:p.id,onClick:h=>r(p.id)},{default:l(()=>[M(J(p.name),1)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):Q("",!0)]))}}),Ec={class:"h-screen"},Ic={class:"bg-background mb-1"},Oc={class:"flex w-full px-2 my-1 items-end"},Rc=b({__name:"bar",setup(e){const{toast:t}=vt(),s=le(),n=bt(),a=P(n.path.includes("/buddy")?"buddy":"chat");me(()=>n.path,u=>{u.includes("/buddy")?a.value="buddy":a.value="chat"});const r=P(""),i=async()=>{console.log("selected buddy",r.value);let u="";const p=s.buddies.find(h=>h.id===r.value);if(p?(`${p.name}`,p.id):r.value==="ai"||(u="Could not find buddy"+r.value),u){t({variant:"destructive",description:u});return}};return me(()=>s.buddies,u=>{r.value&&(u.find(h=>h.id===r.value)||(r.value=""))}),(u,p)=>(g(),y(o(rl),{"model-value":a.value,"onUpdate:modelValue":p[1]||(p[1]=h=>a.value=h)},{default:l(()=>[c(o(ll),{class:"w-full dark:bg-gray-800 rounded-none"},{default:l(()=>[c(o(Ot),{value:"chat"},{default:l(()=>p[2]||(p[2]=[M("Chat")])),_:1}),c(o(Ot),{value:"buddy"},{default:l(()=>p[3]||(p[3]=[M("Buddy")])),_:1}),c(o(Ot),{value:"settings"},{default:l(()=>p[4]||(p[4]=[M("Settings")])),_:1}),c(Tc)]),_:1}),C("div",Ec,[c(o(It),{value:"chat"},{default:l(()=>[C("div",Ic,[C("div",Oc,[c(Bc,{onSelect:p[0]||(p[0]=h=>{r.value=h,i()})})])]),c(o(Qe),{class:"h-screen"},{default:l(()=>[c(sc)]),_:1})]),_:1}),c(o(It),{value:"buddy"},{default:l(()=>[c(ic)]),_:1}),c(o(It),{value:"settings"},{default:l(()=>[c(Ac)]),_:1})])]),_:1},8,["model-value"]))}}),Dc={key:0,class:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"},Vc=b({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(ko),F(o(r),{class:o(R)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-orientation=vertical]]:h-px [&[data-orientation=vertical]]:w-full [&[data-orientation=vertical]]:after:left-0 [&[data-orientation=vertical]]:after:h-1 [&[data-orientation=vertical]]:after:w-full [&[data-orientation=vertical]]:after:-translate-y-1/2 [&[data-orientation=vertical]]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90",s.class)}),{default:l(()=>[s.withHandle?(g(),z("div",Dc,[c(o(No),{class:"h-2.5 w-2.5"})])):Q("",!0)]),_:1},16,["class"]))}}),zc=b({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(e,{emit:t}){const s=e,n=t,a=x(()=>{const{class:i,...u}=s;return u}),r=ie(a,n);return(i,u)=>(g(),y(o(Co),F(o(r),{class:o(R)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s.class)}),{default:l(()=>[T(i.$slots,"default")]),_:3},16,["class"]))}}),jc=b({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const t=e;return(s,n)=>(g(),y(o(Ao),ce(de(t)),{default:l(()=>[T(s.$slots,"default")]),_:3},16))}}),Lc=b({__name:"App",setup(e){sn();const t=P(null);return(s,n)=>{const a=Ue("RouterLink"),r=Ue("RouterView");return g(),z("div",{ref_key:"container",ref:t,class:"antialiased duration-300 transition-colors text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-950"},[c(o(jc),null,{default:l(()=>[(g(),y(Mo,null,{default:l(()=>[C("div",null,[c(o(Sn),{variant:"info",class:"p-2 rounded-none"},{default:l(()=>[c(o($n),{class:"text-center"},{default:l(()=>[n[1]||(n[1]=M(" This is a preview of BuddyGenAI. ")),n[2]||(n[2]=C("br",null,null,-1)),n[3]||(n[3]=M(" Go to ")),c(a,{to:"/"},{default:l(()=>n[0]||(n[0]=[M("Home Page")])),_:1}),n[4]||(n[4]=M(" || ")),n[5]||(n[5]=C("a",{href:"/"},"Back to BuddyGenAI.com",-1))]),_:1})]),_:1}),c(o(zc),{direction:"horizontal",style:{height:"92vh"}},{default:l(()=>[c(o(fs),{class:"min-w-min","default-size":22,"min-size":20,"max-size":35},{default:l(()=>[c(o(Rc))]),_:1}),c(o(Vc),{"with-handle":""}),c(o(fs),null,{default:l(()=>[c(r)]),_:1})]),_:1})])]),_:1})),c(o(tr))]),_:1})],512)}}}),Nc=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},Fc=Nc(Lc,[["__scopeId","data-v-2938564b"]]),Uc=dl();So(Fc).use(ke).use(Uc).mount("#root");
